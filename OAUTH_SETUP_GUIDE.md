# üîê –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ OAuth –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π

## üìã –û–±—â–∏–π —á–µ–∫-–ª–∏—Å—Ç

- [x] Google - **–£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢** ‚úÖ
- [ ] –í–ö–æ–Ω—Ç–∞–∫—Ç–µ (VK)
- [ ] Telegram
- [ ] Mail.ru
- [ ] –Ø–Ω–¥–µ–∫—Å

---

## üîµ 1. –í–ö–æ–Ω—Ç–∞–∫—Ç–µ (VK)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è VK

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://vk.com/apps?act=manage
2. –ù–∞–∂–∞—Ç—å **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: –î–æ–±—Ä–∏—Å—Ç (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ)
   - **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: –í–µ–±-—Å–∞–π—Ç
   - **–ê–¥—Ä–µ—Å —Å–∞–π—Ç–∞**: `https://dobrist.com`
   - **–ë–∞–∑–æ–≤—ã–π –¥–æ–º–µ–Ω**: `dobrist.com`

4. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç—å **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"**
5. –ù–∞–π—Ç–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å:
   - **ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (App ID) - –Ω–∞–ø—Ä–∏–º–µ—Ä: `51234567`
   - **–ó–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–ª—é—á** (Secure Key) - –¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

6. –í —Ä–∞–∑–¥–µ–ª–µ **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "Redirect URI"** –¥–æ–±–∞–≤–∏—Ç—å:
   ```
   https://dobrist.com/accounts/vk/login/callback/
   ```

7. **–í–∫–ª—é—á–∏—Ç—å** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã–º)

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ .env

–î–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª `.env` (–∏–ª–∏ `.env.local`):

```env
# –í–ö–æ–Ω—Ç–∞–∫—Ç–µ OAuth
VK_APP_ID=–≤–∞—à_app_id_–æ—Ç_vk
VK_APP_SECRET=–≤–∞—à_secure_key_–æ—Ç_vk
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ Django Admin

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä: `python manage.py runserver`
2. –ó–∞–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É: http://localhost:8000/admin/
3. –ù–∞–π—Ç–∏ **"Sites" ‚Üí "Social applications"**
4. –ù–∞–∂–∞—Ç—å **"Add Social Application"**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
   - **Provider**: VK
   - **Name**: –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
   - **Client id**: –≤–∞—à VK_APP_ID
   - **Secret key**: –≤–∞—à VK_APP_SECRET
   - **Sites**: –≤—ã–±—Ä–∞—Ç—å `dobrist.com` (–∏–ª–∏ `example.com` –µ—Å–ª–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ)
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

---

## üí¨ 2. Telegram

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –¥–ª—è OAuth

1. –û—Ç–∫—Ä—ã—Ç—å Telegram –∏ –Ω–∞–π—Ç–∏ –±–æ—Ç–∞ **@BotFather**
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É: `/newbot`
3. –°–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
   - –í–≤–µ—Å—Ç–∏ –∏–º—è –±–æ—Ç–∞: `–î–æ–±—Ä–∏—Å—Ç OAuth Bot`
   - –í–≤–µ—Å—Ç–∏ username: `dobrist_oauth_bot` (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `_bot`)
4. –ü–æ–ª—É—á–∏—Ç—å **Token** - –¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Ç–∏–ø–∞ `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`

5. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É: `/setdomain`
6. –í—ã–±—Ä–∞—Ç—å —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞
7. –í–≤–µ—Å—Ç–∏ –¥–æ–º–µ–Ω: `https://dobrist.com`

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ .env

```env
# Telegram OAuth
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_botfather
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ Django Admin

1. –ó–∞–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É
2. **"Social applications" ‚Üí "Add"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
   - **Provider**: Telegram
   - **Name**: Telegram
   - **Client id**: –Ω–µ –Ω—É–∂–µ–Ω (–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)
   - **Secret key**: –≤–∞—à TELEGRAM_BOT_TOKEN
   - **Sites**: –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π —Å–∞–π—Ç
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

---

## üìß 3. Mail.ru

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Mail.ru

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://o2.mail.ru/app/
2. –ù–∞–∂–∞—Ç—å **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: –î–æ–±—Ä–∏—Å—Ç
   - **–¢–∏–ø**: –í–µ–±-—Å–∞–π—Ç
   - **URL —Å–∞–π—Ç–∞**: `https://dobrist.com`
   - **Redirect URI**: `https://dobrist.com/accounts/mailru/login/callback/`

4. –ü–æ–ª—É—á–∏—Ç—å:
   - **ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (Client ID)
   - **–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á** (Private Key)

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ .env

```env
# Mail.ru OAuth
MAILRU_CLIENT_ID=–≤–∞—à_client_id
MAILRU_CLIENT_SECRET=–≤–∞—à_secret_key
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ Django Admin

1. **"Social applications" ‚Üí "Add"**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
   - **Provider**: Mail.ru
   - **Name**: Mail.ru
   - **Client id**: –≤–∞—à MAILRU_CLIENT_ID
   - **Secret key**: –≤–∞—à MAILRU_CLIENT_SECRET
   - **Sites**: –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π —Å–∞–π—Ç
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

---

## üü° 4. –Ø–Ω–¥–µ–∫—Å

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ø–Ω–¥–µ–∫—Å

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://oauth.yandex.ru/
2. –ù–∞–∂–∞—Ç—å **"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: –î–æ–±—Ä–∏—Å—Ç
   - **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã**: –í–µ–±-—Å–µ—Ä–≤–∏—Å—ã
   - **Redirect URI**: `https://dobrist.com/accounts/yandex/login/callback/`
   - **–î–æ—Å—Ç—É–ø—ã**: 
     - ‚úÖ –î–æ—Å—Ç—É–ø –∫ email –∞–¥—Ä–µ—Å—É
     - ‚úÖ –î–æ—Å—Ç—É–ø –∫ –∞–≤–∞—Ç–∞—Ä—É
     - ‚úÖ –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

4. –ü–æ–ª—É—á–∏—Ç—å:
   - **ID** (Client ID)
   - **–ü–∞—Ä–æ–ª—å** (Client Secret)

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ .env

```env
# –Ø–Ω–¥–µ–∫—Å OAuth
YANDEX_CLIENT_ID=–≤–∞—à_client_id
YANDEX_CLIENT_SECRET=–≤–∞—à_client_secret
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ Django Admin

1. **"Social applications" ‚Üí "Add"**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
   - **Provider**: Yandex
   - **Name**: –Ø–Ω–¥–µ–∫—Å
   - **Client id**: –≤–∞—à YANDEX_CLIENT_ID
   - **Secret key**: –≤–∞—à YANDEX_CLIENT_SECRET
   - **Sites**: –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π —Å–∞–π—Ç
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ:

1. –î–æ–±–∞–≤–∏—Ç—å –≤ `/etc/hosts` (Windows: `C:\Windows\System32\drivers\etc\hosts`):
   ```
   127.0.0.1 dobrist.local
   ```

2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å–æ—Ü—Å–µ—Ç–µ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
   ```
   http://dobrist.local:8000/accounts/{provider}/login/callback/
   ```

3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok –¥–ª—è —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è:
   ```bash
   ngrok http 8000
   ```
   –ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π URL –æ—Ç ngrok

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω

–ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:
- –í—Å–µ Redirect URI –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ: `https://dobrist.com/...`
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –í Django Admin –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Site (dobrist.com)

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Redirect URI mismatch"
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Redirect URI –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å:
```
https://dobrist.com/accounts/{provider}/login/callback/
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Application not found"
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ Django Admin –∏ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É Site

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ö–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ `INSTALLED_APPS` –≤ settings.py

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "Invalid token"
**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∏—Ç—å Client ID –∏ Secret Key, –≤–æ–∑–º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏—Å—å –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –í—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö
- [ ] –í—Å–µ –∫–ª—é—á–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.env`
- [ ] –í—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Django Admin
- [ ] Redirect URI –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–æ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **VK Developers**: https://vk.com/dev
- **Telegram Bot API**: https://core.telegram.org/bots
- **Mail.ru OAuth**: https://o2.mail.ru/
- **–Ø–Ω–¥–µ–∫—Å OAuth**: https://oauth.yandex.ru/
- **django-allauth docs**: https://django-allauth.readthedocs.io/

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:

1. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é –∫–Ω–æ–ø–∫—É
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

**–£–¥–∞—á–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π OAuth! üéâ**
