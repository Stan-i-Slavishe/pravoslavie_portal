# üîî –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –ü—Ä–æ–±–ª–µ–º–∞
–ë—Ä–∞—É–∑–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–ª –∑–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –¥–∞–ª —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ.

## –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º.

## –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### –§–∞–π–ª: `static/js/pwa.js`
**–ë—ã–ª–æ:**
```javascript
async requestNotificationPermission() {
    const permission = await Notification.requestPermission();
```

**–°—Ç–∞–ª–æ:**
```javascript
async requestNotificationPermission() {
    // –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ –æ—Ç–≤–µ—Ç–∞ (—Å—Ç–∞—Ç—É—Å 'default')
    if (Notification.permission !== 'default') {
        console.log('‚ÑπÔ∏è Notification permission already set:', Notification.permission);
        return;
    }
    
    const permission = await Notification.requestPermission();
```

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
1. ‚úÖ **'granted'** - —Ä–∞–∑—Ä–µ—à–µ–Ω–æ ‚Üí –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å
2. ‚ùå **'denied'** - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ ‚Üí –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º —Ä–µ—à–∏–ª)
3. ‚ùì **'default'** - –Ω–µ –±—ã–ª–æ –æ—Ç–≤–µ—Ç–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)

## –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# 1. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add static/js/pwa.js
git commit -m "fix: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"

# 2. –ó–∞–ø—É—à–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
git push origin main

# 3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
cd /var/www/pravoslavie_portal
git pull origin main
python manage.py collectstatic --noinput
sudo systemctl restart gunicorn nginx
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞
–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- ‚úÖ –ó–∞–ø—Ä–æ—Å –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ —É–∂–µ –¥–∞–Ω –æ—Ç–≤–µ—Ç
- ‚úÖ –ó–∞–ø—Ä–æ—Å –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç)
- ‚úÖ –ö–æ–Ω—Å–æ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏: `‚ÑπÔ∏è Notification permission already set: granted`

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** {{ now }}
**–ê–≤—Ç–æ—Ä:** Claude AI Assistant
