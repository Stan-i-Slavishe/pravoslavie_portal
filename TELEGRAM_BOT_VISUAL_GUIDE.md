# 📸 Визуальная инструкция: Создание Telegram Bot для OAuth

## 🎯 Цель
Создать Telegram Bot для авторизации пользователей на сайте dobrist.com

---

## 📱 Шаг 1: Открыть BotFather

1. Откройте Telegram на телефоне или в десктопном приложении
2. В строке поиска введите: `@BotFather`
3. Выберите официального бота (с синей галочкой ✓)

```
┌─────────────────────────────┐
│  🔍 Поиск                    │
│  @BotFather                  │
├─────────────────────────────┤
│  🤖 BotFather            ✓   │
│  The one and only...         │
└─────────────────────────────┘
```

---

## 🆕 Шаг 2: Создать нового бота

1. Нажмите кнопку **START** или отправьте `/start`
2. Отправьте команду: `/newbot`

```
┌─────────────────────────────────────┐
│ You                                  │
│ /newbot                             │
├─────────────────────────────────────┤
│ BotFather                            │
│ Alright, a new bot. How are we      │
│ going to call it? Please choose     │
│ a name for your bot.                │
└─────────────────────────────────────┘
```

---

## 📝 Шаг 3: Указать имя бота

Отправьте отображаемое имя бота (можно использовать кириллицу и пробелы):

**Вариант 1 (рекомендуется):**
```
Dobrist Login Bot
```

**Вариант 2:**
```
Добрист - Вход
```

```
┌─────────────────────────────────────┐
│ You                                  │
│ Dobrist Login Bot                   │
├─────────────────────────────────────┤
│ BotFather                            │
│ Good. Now let's choose a username   │
│ for your bot. It must end in `bot`. │
│ Like this, for example:             │
│ TetrisBot or tetris_bot.            │
└─────────────────────────────────────┘
```

---

## 🏷️ Шаг 4: Указать username бота

Username должен:
- Быть уникальным
- Содержать только латиницу, цифры и подчеркивания
- Заканчиваться на `bot`

**Рекомендуемые варианты:**
```
dobrist_login_bot
dobrist_auth_bot
dobrist_oauth_bot
```

```
┌─────────────────────────────────────┐
│ You                                  │
│ dobrist_login_bot                   │
├─────────────────────────────────────┤
│ BotFather                            │
│ Done! Congratulations on your new   │
│ bot. You will find it at            │
│ t.me/dobrist_login_bot              │
│                                      │
│ You can now add a description...    │
│                                      │
│ Use this token to access the HTTP   │
│ API:                                 │
│ 7234567890:AAHfB3x9K2mN...          │
│                                      │
│ Keep your token secure!             │
└─────────────────────────────────────┘
```

---

## 🔑 Шаг 5: Сохранить токен

**ВАЖНО!** Сохраните токен в безопасное место!

Токен выглядит примерно так:
```
7234567890:AAHfB3x9K2mNpQrStUvWxYz1234567890aB
```

**Формат токена:**
```
[BOT_ID]:[SECRET_KEY]
    ↓         ↓
7234567890:AAHfB3x9K2mNpQrStUvWxYz1234567890aB
```

⚠️ **Никому не показывайте этот токен!**  
⚠️ **Не публикуйте его в публичных репозиториях!**

---

## 🌐 Шаг 6: Установить домен для OAuth

1. Отправьте команду: `/setdomain`
2. Выберите созданного бота из списка
3. Введите домен вашего сайта

```
┌─────────────────────────────────────┐
│ You                                  │
│ /setdomain                          │
├─────────────────────────────────────┤
│ BotFather                            │
│ Choose a bot to set the domain.     │
│                                      │
│ 🤖 @dobrist_login_bot               │
└─────────────────────────────────────┘
```

**Для продакшена:**
```
https://dobrist.com
```

**Для локальной разработки:**
```
http://localhost:8000
```

```
┌─────────────────────────────────────┐
│ You                                  │
│ https://dobrist.com                 │
├─────────────────────────────────────┤
│ BotFather                            │
│ Success! Domain "dobrist.com" has   │
│ been set for @dobrist_login_bot.    │
│                                      │
│ Users will now be able to log in    │
│ to dobrist.com using their          │
│ Telegram account via                │
│ @dobrist_login_bot                  │
└─────────────────────────────────────┘
```

---

## ✏️ Шаг 7: Настроить описание бота (опционально)

### Краткое описание (для списка ботов)

Команда: `/setabouttext`

```
Вход на сайт Dobrist через Telegram
```

### Полное описание (при открытии бота)

Команда: `/setdescription`

```
🔐 Официальный бот для авторизации на сайте Dobrist

✅ Безопасный вход без пароля
✅ Мгновенная авторизация
✅ Защита данных через Telegram

Используйте этот бот для быстрого входа на сайт dobrist.com
```

---

## 🖼️ Шаг 8: Установить аватар бота (опционально)

1. Команда: `/setuserpic`
2. Выберите бота
3. Отправьте изображение (512x512 px, PNG рекомендуется)

**Рекомендации для аватара:**
- Размер: 512x512 пикселей
- Формат: PNG с прозрачностью
- Содержание: Логотип Dobrist или иконка замка 🔐

---

## 📋 Шаг 9: Сохранить данные

Создайте файл с данными бота для документации:

```
BOT NAME: Dobrist Login Bot
BOT USERNAME: @dobrist_login_bot
BOT TOKEN: 7234567890:AAHfB3x9K2mNpQrStUvWxYz1234567890aB
DOMAIN: https://dobrist.com
BOT LINK: https://t.me/dobrist_login_bot
```

---

## ✅ Шаг 10: Проверка бота

### Проверьте настройки:

1. Откройте бота: `https://t.me/dobrist_login_bot`
2. Нажмите **START**
3. Должно появиться приветственное сообщение

### Проверьте команды в BotFather:

```
/mybots
→ Выбрать @dobrist_login_bot
→ Bot Settings
→ Domain
```

Должно быть указано: `dobrist.com` ✓

---

## 🎉 Готово!

Теперь у вас есть:
- ✅ Telegram Bot для OAuth авторизации
- ✅ Bot Token для интеграции
- ✅ Настроенный домен
- ✅ Описание и аватар (опционально)

**Следующий шаг:** Интеграция с Django  
См. [TELEGRAM_OAUTH_SETUP.md](TELEGRAM_OAUTH_SETUP.md)

---

## 🔧 Дополнительные команды BotFather

| Команда | Описание |
|---------|----------|
| `/mybots` | Список ваших ботов |
| `/newbot` | Создать нового бота |
| `/setname` | Изменить имя бота |
| `/setdescription` | Установить описание |
| `/setabouttext` | Краткое описание |
| `/setuserpic` | Установить аватар |
| `/setdomain` | Установить домен для OAuth |
| `/deletebot` | Удалить бота |
| `/token` | Получить токен снова |
| `/revoke` | Отозвать токен (создать новый) |

---

## ⚠️ Безопасность

### Что МОЖНО:
- ✅ Сохранить токен в `.env` файле
- ✅ Добавить `.env` в `.gitignore`
- ✅ Использовать переменные окружения на сервере

### Что НЕЛЬЗЯ:
- ❌ Публиковать токен в GitHub
- ❌ Показывать токен в скриншотах
- ❌ Отправлять токен в чатах
- ❌ Хранить токен в коде

---

## 🆘 Если забыли токен

1. Откройте BotFather
2. Отправьте: `/mybots`
3. Выберите бота
4. Нажмите: **API Token**
5. Скопируйте токен

**Или:**

1. Отправьте: `/token`
2. Выберите бота
3. Скопируйте токен

---

## 🔄 Если нужно изменить домен

```
/setdomain
→ Выбрать бота
→ Ввести новый домен
```

**Примеры:**
- `https://dobrist.com` (продакшн)
- `https://test.dobrist.com` (staging)
- `http://localhost:8000` (разработка)

---

**Документация:**
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Login Widget](https://core.telegram.org/widgets/login)
- [Django Integration](TELEGRAM_OAUTH_SETUP.md)
