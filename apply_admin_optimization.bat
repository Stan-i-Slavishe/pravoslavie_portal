@echo off
echo üöÄ –ü—Ä–∏–º–µ–Ω—è–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã –≤—ã—Å–æ–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤ –∞–¥–º–∏–Ω–∫–µ...
echo.

echo ===============================================
echo üìã –®–ê–ì 1: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è –Ω–æ–≤—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤
echo ===============================================
python manage.py makemigrations stories
if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
    pause
    exit /b 1
)

echo.
echo ===============================================
echo üìã –®–ê–ì 2: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
echo ===============================================
python manage.py migrate
if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
    pause
    exit /b 1
)

echo.
echo ===============================================
echo üìã –®–ê–ì 3: –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∫–∏
echo ===============================================
python manage.py optimize_admin
if %errorlevel% neq 0 (
    echo ‚ö†Ô∏è –ö–æ–º–∞–Ω–¥–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
)

echo.
echo ===============================================
echo üìã –®–ê–ì 4: –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
echo ===============================================
python manage.py shell -c "from django.core.cache import cache; cache.clear(); print('‚úÖ –ö–µ—à –æ—á–∏—â–µ–Ω')"

echo.
echo ===============================================
echo üìã –®–ê–ì 5: –°–±–æ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
echo ===============================================
python manage.py collectstatic --noinput
if %errorlevel% neq 0 (
    echo ‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
)

echo.
echo üéâ ===============================================
echo üéâ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û!
echo üéâ ===============================================
echo.
echo ‚úÖ –í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
echo ‚úÖ –ù–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã
echo ‚úÖ –ö–µ—à –æ—á–∏—â–µ–Ω
echo ‚úÖ –ê–¥–º–∏–Ω–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
echo.
echo üöÄ –¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
echo    python manage.py runserver
echo.
echo üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
echo    - –ó–∞–≥—Ä—É–∑–∫–∞ –∞–¥–º–∏–Ω–∫–∏ —É—Å–∫–æ—Ä–∏—Ç—Å—è –≤ 3-5 —Ä–∞–∑
echo    - –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ —Å–Ω–∏–∑–∏—Ç—Å—è —Å 90%% –¥–æ 20-30%%
echo    - –°–ø–∏—Å–∫–∏ —Ä–∞—Å—Å–∫–∞–∑–æ–≤ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
echo    - –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–∞–Ω—É—Ç –ø–ª–∞–≤–Ω—ã–º–∏
echo.
pause
