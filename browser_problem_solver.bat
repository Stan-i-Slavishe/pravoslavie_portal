@echo off
echo üåê –ú–ê–°–¢–ï–† –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ë–†–ê–£–ó–ï–†–ù–´–• –ü–†–û–ë–õ–ï–ú
echo =======================================
echo.

echo üîπ Django –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –±—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ HTTPS/HTTP
echo üîπ –≠—Ç–æ—Ç –º–∞—Å—Ç–µ—Ä –ø–æ–º–æ–∂–µ—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –ø–æ—à–∞–≥–æ–≤–æ
echo.

REM –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–¥–∏—Ä–æ–≤–∫—É UTF-8
chcp 65001 >nul

echo üéØ –í–´–ë–ï–†–ò–¢–ï –†–ï–®–ï–ù–ò–ï:
echo.
echo 1. üö® –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
echo 2. üßπ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ—á–∏—Å—Ç–∫–µ –∫–µ—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞
echo 3. üîß –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Django
echo 4. üÜò –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
echo 5. ‚ùå –í—ã—Ö–æ–¥
echo.

set /p choice="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä (1-5): "

if "%choice%"=="1" (
    echo.
    echo üö® –ë–´–°–¢–†–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï
    echo ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
    call fix_https_problem.bat
    
) else if "%choice%"=="2" (
    echo.
    echo üßπ –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –û–ß–ò–°–¢–ö–ï –ö–ï–®–ê
    echo ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
    call clear_browser_cache_guide.bat
    
) else if "%choice%"=="3" (
    echo.
    echo üîß –ü–û–î–†–û–ë–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê
    echo ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
    if exist django_diagnostics.py (
        python django_diagnostics.py
    ) else (
        echo ‚ùå –§–∞–π–ª django_diagnostics.py –Ω–µ –Ω–∞–π–¥–µ–Ω
        echo –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞: emergency_django_fix.bat
    )
    pause
    
) else if "%choice%"=="4" (
    echo.
    echo üÜò –≠–ö–°–¢–†–ï–ù–ù–û–ï –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï
    echo ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
    if exist emergency_django_fix.bat (
        call emergency_django_fix.bat
    ) else (
        echo ‚ùå –§–∞–π–ª emergency_django_fix.bat –Ω–µ –Ω–∞–π–¥–µ–Ω
        echo.
        echo üîß –í—ã–ø–æ–ª–Ω—è–µ–º –±–∞–∑–æ–≤–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ...
        call .venv\Scripts\activate
        taskkill /f /im python.exe 2>nul
        rmdir /s /q staticfiles 2>nul
        python manage.py collectstatic --noinput
        python manage.py runserver 127.0.0.1:8000
    )
    
) else if "%choice%"=="5" (
    echo –í—ã—Ö–æ–¥...
    exit /b 0
    
) else (
    echo.
    echo ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.
    pause
    goto :eof
)

echo.
echo üéâ –ì–û–¢–û–í–û!
echo.
echo üìù –ü–ê–ú–Ø–¢–ö–ê:
echo   ‚Ä¢ –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: http://127.0.0.1:8000/
echo   ‚Ä¢ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: https://127.0.0.1:8000/
echo   ‚Ä¢ –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –æ—Ç–∫—Ä–æ–π—Ç–µ: open_django.html
echo   ‚Ä¢ –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
echo.
pause
