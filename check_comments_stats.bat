@echo off
chcp 65001 >nul
echo üîç –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–ò–°–¢–ò–ö–ò –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í
echo ==================================

echo üìã –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –±–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —à–∞–±–ª–æ–Ω...
findstr /C:"comments-count-meta" "templates\stories\story_detail.html" >nul
if %errorlevel%==0 (
    echo ‚úÖ –ë–ª–æ–∫ —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–∞–π–¥–µ–Ω –≤ —à–∞–±–ª–æ–Ω–µ
) else (
    echo ‚ùå –ë–ª–æ–∫ —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ù–ï –Ω–∞–π–¥–µ–Ω –≤ —à–∞–±–ª–æ–Ω–µ
)

echo.
echo üìã –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ views.py...
findstr /C:"comments_count" "stories\views.py" >nul
if %errorlevel%==0 (
    echo ‚úÖ comments_count –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
) else (
    echo ‚ùå comments_count –ù–ï –Ω–∞–π–¥–µ–Ω –≤ views.py
)

echo.
echo üé® –ü—Ä–æ–≤–µ—Ä—è–µ–º CSS —Å—Ç–∏–ª–∏...
findstr /C:"comments-count-sidebar" "static\css\stories.css" >nul
if %errorlevel%==0 (
    echo ‚úÖ CSS —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞–π–¥–µ–Ω—ã
) else (
    echo ‚ùå CSS —Å—Ç–∏–ª–∏ –ù–ï –Ω–∞–π–¥–µ–Ω—ã
)

echo.
echo üîß –ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º...
python manage.py collectstatic --noinput --clear
echo ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã

echo.
echo üöÄ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä...
taskkill /f /im python.exe 2>nul
timeout /t 2 /nobreak >nul
start python manage.py runserver

echo.
echo üí° –ï—Å–ª–∏ —Å—á–µ—Ç—á–∏–∫ –≤—Å–µ –µ—â–µ –Ω–µ –≤–∏–¥–µ–Ω:
echo    1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª—Å—è
echo    2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Ctrl+F5)
echo    3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
echo    4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É —Ä–∞—Å—Å–∫–∞–∑–∞ –µ—Å—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
echo.
echo üåê –û—Ç–∫—Ä–æ–π—Ç–µ: http://127.0.0.1:8000/stories/malishka/
pause
