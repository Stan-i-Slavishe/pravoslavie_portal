@echo off
chcp 65001 >nul
setlocal enabledelayedexpansion

echo.
echo ===============================================================
echo ðŸ§¹ ÐŸÐžÐ›ÐÐÐ¯ Ð—ÐÐ§Ð˜Ð¡Ð¢ÐšÐ Ð¡Ð˜Ð¡Ð¢Ð•ÐœÐ« ÐšÐžÐœÐœÐ•ÐÐ¢ÐÐ Ð˜Ð•Ð’
echo ===============================================================
echo.

echo ðŸ“‹ Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Python ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð·Ð°Ñ‡Ð¸ÑÑ‚ÐºÐ¸...
python complete_cleanup.py

if %ERRORLEVEL% NEQ 0 (
    echo.
    echo âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ð¸ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° Ð·Ð°Ñ‡Ð¸ÑÑ‚ÐºÐ¸
    pause
    exit /b 1
)

echo.
echo ðŸ”§ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹...
python manage.py makemigrations

echo.
echo ðŸ”§ ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹...
python manage.py migrate

echo.
echo ðŸ§ª Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐµÑ€Ð²ÐµÑ€Ð°...
echo    Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ ÑÐµÑ€Ð²ÐµÑ€ Ð´Ð»Ñ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸...

timeout /t 2 /nobreak >nul

start /min python manage.py runserver

timeout /t 5 /nobreak >nul

taskkill /f /im python.exe /fi "WINDOWTITLE eq *runserver*" >nul 2>&1

echo.
echo ===============================================================
echo ðŸŽ‰ ÐŸÐžÐ›ÐÐÐ¯ Ð—ÐÐ§Ð˜Ð¡Ð¢ÐšÐ Ð—ÐÐ’Ð•Ð Ð¨Ð•ÐÐ!
echo ===============================================================
echo.
echo âœ… Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ:
echo    â€¢ Ð£Ð´Ð°Ð»ÐµÐ½Ñ‹ Ð²ÑÐµ ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÐµÐ²
echo    â€¢ ÐžÑ‡Ð¸Ñ‰ÐµÐ½Ñ‹ Ð²ÑÐµ Python Ñ„Ð°Ð¹Ð»Ñ‹
echo    â€¢ ÐžÑ‡Ð¸Ñ‰ÐµÐ½Ñ‹ Ð²ÑÐµ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñ‹
echo    â€¢ Ð£Ð´Ð°Ð»ÐµÐ½Ñ‹ Ñ„Ð°Ð¹Ð»Ñ‹ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÐµÐ²
echo    â€¢ Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ Ñ‡Ð¸ÑÑ‚Ñ‹Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
echo    â€¢ ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð¿Ñ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½
echo.
echo ðŸš€ Ð“ÐžÐ¢ÐžÐ’Ðž Ðš Ð¡ÐžÐ—Ð”ÐÐÐ˜Ð® ÐÐžÐ’ÐžÐ™ Ð¡Ð˜Ð¡Ð¢Ð•ÐœÐ« ÐšÐžÐœÐœÐ•ÐÐ¢ÐÐ Ð˜Ð•Ð’!
echo.
echo Ð”Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶ÐµÐ½Ð¸Ñ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð»ÑŽÐ±ÑƒÑŽ ÐºÐ»Ð°Ð²Ð¸ÑˆÑƒ . . .
pause >nul
