@echo off
chcp 65001 >nul
echo ðŸ”„ Ð Ð•Ð¨Ð•ÐÐ˜Ð• ÐšÐžÐÐ¤Ð›Ð˜ÐšÐ¢Ð GIT CHECKOUT
echo =================================

echo âš ï¸  Git Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ Ð¸Ð·-Ð·Ð° Ð½ÐµÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ñ… Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹
echo ðŸ“ Ð¤Ð°Ð¹Ð»: static/css/stories.css
echo.

echo ðŸ’¡ Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:
echo.
echo 1. ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² stash (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)
echo 2. ðŸ—‘ï¸ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¸ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ
echo 3. ðŸ“ Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹
echo 4. âš¡ ÐŸÑ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¾Ñ‚ÐºÐ°Ñ‚ (ÑƒÐ´Ð°Ð»Ð¸Ñ‚ Ð’Ð¡Ð• Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ)
echo 5. ðŸ“Š ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¾ÑÑŒ
echo.

set /p choice="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚ (1-5): "

if "%choice%"=="1" (
    echo.
    echo ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² stash...
    git stash push -m "Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€ÐµÐ´ Ð¾Ñ‚ÐºÐ°Ñ‚Ð¾Ð¼ Ðº 82c2115"
    echo âœ… Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹ Ð² stash
    echo.
    echo ðŸ”„ ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ Ð½Ð° ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ 82c2115...
    git checkout 82c2115
    echo.
    echo ðŸ’¡ Ð§Ñ‚Ð¾Ð±Ñ‹ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð·Ð¶Ðµ: git stash pop
)

if "%choice%"=="2" (
    echo.
    echo ðŸ—‘ï¸ Ð£Ð´Ð°Ð»ÑÐµÐ¼ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² static/css/stories.css...
    git checkout -- static/css/stories.css
    echo âœ… Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹
    echo.
    echo ðŸ”„ ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ Ð½Ð° ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ 82c2115...
    git checkout 82c2115
)

if "%choice%"=="3" (
    echo.
    echo ðŸ“ Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹...
    git add static/css/stories.css
    git commit -m "Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ CSS Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð¿ÐµÑ€ÐµÐ´ Ð¾Ñ‚ÐºÐ°Ñ‚Ð¾Ð¼"
    echo âœ… ÐšÐ¾Ð¼Ð¼Ð¸Ñ‚ ÑÐ¾Ð·Ð´Ð°Ð½
    echo.
    echo ðŸ”„ ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ Ð½Ð° ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ 82c2115...
    git checkout 82c2115
)

if "%choice%"=="4" (
    echo.
    echo âš ï¸  Ð’ÐÐ˜ÐœÐÐÐ˜Ð•: Ð­Ñ‚Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ Ð’Ð¡Ð• Ð½ÐµÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ!
    set /p confirm="Ð¢Ð¾Ñ‡Ð½Ð¾ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ? (y/N): "
    if /i "!confirm!"=="y" (
        echo âš¡ ÐŸÑ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¾Ñ‚ÐºÐ°Ñ‚...
        git reset --hard 82c2115
        echo âœ… ÐžÑ‚ÐºÐ°Ñ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½
    ) else (
        echo âŒ ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾
    )
)

if "%choice%"=="5" (
    echo.
    echo ðŸ“Š Ð§Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¾ÑÑŒ Ð² static/css/stories.css:
    git diff static/css/stories.css
    echo.
    echo ðŸ“‹ ÐžÐ±Ñ‰Ð¸Ð¹ ÑÑ‚Ð°Ñ‚ÑƒÑ:
    git status
)

echo.
echo ðŸ”§ ÐŸÑ€Ð¸Ð¼ÐµÐ½ÑÐµÐ¼ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ...
python manage.py collectstatic --noinput

echo ðŸš€ ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ ÑÐµÑ€Ð²ÐµÑ€...
taskkill /f /im python.exe 2>nul
timeout /t 2 /nobreak >nul
start python manage.py runserver

echo.
echo âœ… Ð“Ð¾Ñ‚Ð¾Ð²Ð¾! ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ http://127.0.0.1:8000/stories/malishka/
pause
