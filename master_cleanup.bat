@echo off
echo.
echo ===============================================================
echo üßπ –ú–ê–°–¢–ï–† –ü–û–õ–ù–û–ô –ó–ê–ß–ò–°–¢–ö–ò –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í
echo ===============================================================
echo.
echo üéØ –≠—Ç–æ—Ç –º–∞—Å—Ç–µ—Ä –ø–æ–º–æ–∂–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
echo    –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —Å –Ω—É–ª—è
echo.
echo üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô:
echo    1. –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –ø—Ä–æ–µ–∫—Ç–∞
echo    2. –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
echo    3. –û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
echo    4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å—Ç–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
echo    5. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
echo.
echo ‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï! –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!
echo.
set /p confirm="–ù–∞—á–∞—Ç—å –ø–æ–ª–Ω—É—é –∑–∞—á–∏—Å—Ç–∫—É? (y/N): "
if /i not "%confirm%"=="y" (
    echo –û—Ç–º–µ–Ω–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
    pause
    exit /b 0
)

echo.
echo üöÄ –ù–ê–ß–ò–ù–ê–ï–ú –ó–ê–ß–ò–°–¢–ö–£...
echo.

:: –®–∞–≥ 1: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
echo üìå –®–ê–ì 1/5: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
echo    ‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Django —Å–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (Ctrl+C)
echo    ‚Ä¢ –ó–∞–∫—Ä–æ–π—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
echo.
pause

:: –®–∞–≥ 2: –ó–∞—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
echo üìå –®–ê–ì 2/5: –ó–∞—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
call cleanup_all_comments.bat

:: –®–∞–≥ 3: –û—á–∏—Å—Ç–∫–∞ –ë–î
echo.
echo üìå –®–ê–ì 3/5: –û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python cleanup_db.py

:: –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å—Ç–æ—Ç—ã
echo.
echo üìå –®–ê–ì 4/5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å—Ç–æ—Ç—ã
python check_cleanup.py

:: –®–∞–≥ 5: –§–∏–Ω–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
echo.
echo üìå –®–ê–ì 5/5: –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
echo.
echo üîß –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π...
python manage.py makemigrations

echo.
echo üîß –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π...
python manage.py migrate

echo.
echo üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞...
echo    –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –Ω–∞ 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏...
timeout /t 2 >nul
start /b python manage.py runserver >nul 2>&1
timeout /t 10 >nul
taskkill /f /im python.exe >nul 2>&1

echo.
echo ===============================================================
echo üéâ –ó–ê–ß–ò–°–¢–ö–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê!
echo ===============================================================
echo.
echo ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:
echo    ‚Ä¢ –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ø–∞–ø–∫–µ backup/
echo    ‚Ä¢ –£–¥–∞–ª–µ–Ω—ã –í–°–ï —Ñ–∞–π–ª—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
echo    ‚Ä¢ –û—á–∏—â–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Ç–∞–±–ª–∏—Ü –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
echo    ‚Ä¢ –£–¥–∞–ª–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
echo    ‚Ä¢ –û—á–∏—â–µ–Ω—ã URLs –æ—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
echo    ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —á–∏—Å—Ç–æ—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞
echo    ‚Ä¢ –°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
echo    ‚Ä¢ –°–µ—Ä–≤–µ—Ä –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
echo.
echo üöÄ –ü–†–û–ï–ö–¢ –ì–û–¢–û–í –î–õ–Ø –ù–û–í–û–ô –°–ò–°–¢–ï–ú–´ –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í!
echo.
echo üí° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
echo    1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: python manage.py runserver
echo    2. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
echo    3. –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
echo.
echo üìù –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤,
echo    —Å–∫–∞–∂–∏—Ç–µ "–≥–æ—Ç–æ–≤ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤"
echo.
pause
