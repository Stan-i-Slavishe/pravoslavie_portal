#!/usr/bin/env python
"""
–ë—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –£—Å–ø–µ–Ω—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∞ –≤ –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
"""

import os
import sys
import django

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
django.setup()

from datetime import date, timedelta
from pwa.models import DailyOrthodoxInfo, OrthodoxEvent

def populate_uspenie_fast():
    """–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –£—Å–ø–µ–Ω—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∞"""
    print("üçá –ó–∞–ø–æ–ª–Ω—è–µ–º –£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç (14-27 –∞–≤–≥—É—Å—Ç–∞ 2025)...")
    
    # –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤–≥—É—Å—Ç–∞
    DailyOrthodoxInfo.objects.filter(month=8, day__gte=14, day__lte=29).delete()
    OrthodoxEvent.objects.filter(month=8, day__gte=14, day__lte=29).delete()
    
    # –£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: 14-27 –∞–≤–≥—É—Å—Ç–∞ 2025
    start_date = date(2025, 8, 14)
    end_date = date(2025, 8, 27)
    
    current = start_date
    created_count = 0
    
    # –°–æ–∑–¥–∞–µ–º —Å–æ–±—ã—Ç–∏—è –£—Å–ø–µ–Ω—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∞
    events = [
        (8, 14, "–ú–µ–¥–æ–≤—ã–π –°–ø–∞—Å (–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –ß–µ—Å—Ç–Ω—ã—Ö –î—Ä–µ–≤)", "–ü–µ—Ä–≤—ã–π –°–ø–∞—Å. –û—Å–≤—è—â–µ–Ω–∏–µ –º–µ–¥–∞ –∏ –º–∞–∫–∞.", 'major_feast'),
        (8, 19, "–ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ (–Ø–±–ª–æ—á–Ω—ã–π –°–ø–∞—Å)", "–í–µ–ª–∏–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫ –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏—è. –û—Å–≤—è—â–µ–Ω–∏–µ —è–±–ª–æ–∫ –∏ –≤–∏–Ω–æ–≥—Ä–∞–¥–∞.", 'great_feast'),
        (8, 28, "–£—Å–ø–µ–Ω–∏–µ –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã", "–í–µ–ª–∏–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫ –£—Å–ø–µ–Ω–∏—è –ë–æ–∂–∏–µ–π –ú–∞—Ç–µ—Ä–∏.", 'great_feast'),
        (8, 29, "–û—Ä–µ—Ö–æ–≤—ã–π –°–ø–∞—Å (–ù–µ—Ä—É–∫–æ—Ç–≤–æ—Ä–Ω—ã–π –û–±—Ä–∞–∑)", "–¢—Ä–µ—Ç–∏–π –°–ø–∞—Å. –û—Å–≤—è—â–µ–Ω–∏–µ –æ—Ä–µ—Ö–æ–≤ –∏ —Ö–ª–µ–±–∞ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–∂–∞—è.", 'major_feast'),
    ]
    
    for month, day, title, description, event_type in events:
        OrthodoxEvent.objects.create(
            month=month,
            day=day,
            title=title,
            description=description,
            event_type=event_type,
            is_movable=False
        )
        print(f"   ‚úÖ –°–æ–∑–¥–∞–Ω–æ —Å–æ–±—ã—Ç–∏–µ: {title}")
    
    # –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–Ω–∏ –ø–æ—Å—Ç–∞
    while current <= end_date:
        weekday = current.weekday()  # 0=–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 6=–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
        
        daily_info = DailyOrthodoxInfo.objects.create(
            month=current.month,
            day=current.day
        )
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø–æ—Å—Ç–∞ –ø–æ –¥–Ω—é –Ω–µ–¥–µ–ª–∏
        if current.day == 19 and current.month == 8:  # –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ
            daily_info.fasting_type = 'with_fish'
            daily_info.fasting_description = '–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ (–Ø–±–ª–æ—á–Ω—ã–π –°–ø–∞—Å)'
            daily_info.allowed_food = '''üçé <strong>–ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ - –º–æ–∂–Ω–æ —Ä—ã–±—É!</strong>

–í –ø—Ä–∞–∑–¥–Ω–∏–∫ –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:

‚úÖ <strong>–ú–æ–∂–Ω–æ:</strong>
‚Ä¢ –†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã üêü
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–∞—è –ø–∏—â–∞ —Å –º–∞—Å–ª–æ–º
‚Ä¢ –û–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã (–æ—Å–æ–±–µ–Ω–Ω–æ —è–±–ª–æ–∫–∏!)
‚Ä¢ –ö–∞—à–∏ —Å –º–∞—Å–ª–æ–º
‚Ä¢ –ì—Ä–∏–±—ã –∂–∞—Ä–µ–Ω—ã–µ
‚Ä¢ –û—Ä–µ—Ö–∏, –º–µ–¥
‚Ä¢ –í–∏–Ω–æ (–Ω–µ–º–Ω–æ–≥–æ)

üçé <strong>–¢—Ä–∞–¥–∏—Ü–∏—è:</strong> –û—Å–≤—è—â–µ–Ω–∏–µ —è–±–ª–æ–∫ –∏ –¥—Ä—É–≥–∏—Ö –ø–ª–æ–¥–æ–≤

‚ùå <strong>–ó–∞–ø—Ä–µ—â–µ–Ω–æ:</strong>
‚Ä¢ –ú—è—Å–æ –∏ –º—è—Å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
‚Ä¢ –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã  
‚Ä¢ –Ø–π—Ü–∞'''
            daily_info.spiritual_note = 'üçé –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ! –Ø–±–ª–æ—á–Ω—ã–π –°–ø–∞—Å. –ë–ª–∞–≥–æ—Å–ª–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–π —É—Ä–æ–∂–∞–π –∏ –≤—Å–ø–æ–º–Ω–∏—Ç–µ –æ –ø—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –¥—É—à–∏.'
            
        elif weekday in [0, 2, 4]:  # –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, —Å—Ä–µ–¥–∞, –ø—è—Ç–Ω–∏—Ü–∞ - —Å—É—Ö–æ—è–¥–µ–Ω–∏–µ
            daily_info.fasting_type = 'dry_eating'
            daily_info.fasting_description = '–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: —Å—É—Ö–æ—è–¥–µ–Ω–∏–µ'
            daily_info.allowed_food = '''ü•ó <strong>–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç - —Å—É—Ö–æ—è–¥–µ–Ω–∏–µ (—Ö–æ–ª–æ–¥–Ω–∞—è –ø–∏—â–∞):</strong>

–ê–≤–≥—É—Å—Ç –±–æ–≥–∞—Ç –¥–∞—Ä–∞–º–∏ –ø—Ä–∏—Ä–æ–¥—ã!

‚úÖ <strong>–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –°–≤–µ–∂–∏–µ –æ–≤–æ—â–∏: –æ–≥—É—Ä—Ü—ã, –ø–æ–º–∏–¥–æ—Ä—ã, –∫–∞–ø—É—Å—Ç–∞, –º–æ—Ä–∫–æ–≤—å, –ø–µ—Ä–µ—Ü
‚Ä¢ –õ–µ—Ç–Ω–∏–µ —Ñ—Ä—É–∫—Ç—ã: —è–±–ª–æ–∫–∏, –≥—Ä—É—à–∏, —Å–ª–∏–≤—ã, –ø–µ—Ä—Å–∏–∫–∏
‚Ä¢ –Ø–≥–æ–¥—ã: –≤–∏–Ω–æ–≥—Ä–∞–¥, –∞—Ä–±—É–∑, –¥—ã–Ω—è, —Å–º–æ—Ä–æ–¥–∏–Ω–∞
‚Ä¢ –û—Ä–µ—Ö–∏ –≤—Å–µ—Ö –≤–∏–¥–æ–≤
‚Ä¢ –°–µ–º–µ—á–∫–∏ –ø–æ–¥—Å–æ–ª–Ω–µ—á–Ω—ã–µ, —Ç—ã–∫–≤–µ–Ω–Ω—ã–µ
‚Ä¢ –ú–µ–¥ —Å–≤–µ–∂–∏–π
‚Ä¢ –•–ª–µ–± –ø–æ—Å—Ç–Ω—ã–π (–±–µ–∑ –º–æ–ª–æ–∫–∞ –∏ —è–∏—Ü)
‚Ä¢ –°—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã: –∏–∑—é–º, –∫—É—Ä–∞–≥–∞, –∏–Ω–∂–∏—Ä
‚Ä¢ –í–æ–¥–∞, –∫–≤–∞—Å –¥–æ–º–∞—à–Ω–∏–π, –º–æ—Ä—Å—ã (—Ö–æ–ª–æ–¥–Ω—ã–µ)

‚ùå <strong>–ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –õ—é–±–∞—è –≥–æ—Ä—è—á–∞—è –ø–∏—â–∞
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ
‚Ä¢ –ü—Ä–æ–¥—É–∫—Ç—ã –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è
‚Ä¢ –í–∞—Ä–µ–Ω—å–µ (–º–æ–∂–Ω–æ –º–µ–¥)

üí° <strong>–°–æ–≤–µ—Ç:</strong> –î–µ–ª–∞–π—Ç–µ —Å–∞–ª–∞—Ç—ã –∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π –±–µ–∑ –º–∞—Å–ª–∞, –Ω–æ —Å –ª–∏–º–æ–Ω–Ω—ã–º —Å–æ–∫–æ–º'''
            daily_info.spiritual_note = '–î–µ–Ω—å —Å—É—Ö–æ—è–¥–µ–Ω–∏—è –≤ –£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç. –í—Ä–µ–º—è —Å—Ç—Ä–æ–≥–æ–≥–æ –≤–æ–∑–¥–µ—Ä–∂–∞–Ω–∏—è –≤ –ø–∞–º—è—Ç—å –æ –ø–æ—Å—Ç–µ –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã –ø–µ—Ä–µ–¥ –£—Å–ø–µ–Ω–∏–µ–º.'
            
        elif weekday in [1, 3]:  # –í—Ç–æ—Ä–Ω–∏–∫, —á–µ—Ç–≤–µ—Ä–≥ - –≥–æ—Ä—è—á–µ–µ –±–µ–∑ –º–∞—Å–ª–∞
            daily_info.fasting_type = 'strict_fast'
            daily_info.fasting_description = '–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: –≥–æ—Ä—è—á–∞—è –ø–∏—â–∞ –±–µ–∑ –º–∞—Å–ª–∞'
            daily_info.allowed_food = '''üç≤ <strong>–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç - –≥–æ—Ä—è—á–µ–µ –±–µ–∑ –º–∞—Å–ª–∞:</strong>

‚úÖ <strong>–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –ö–∞—à–∏ –Ω–∞ –≤–æ–¥–µ: –≥—Ä–µ—á–Ω–µ–≤–∞—è, –æ–≤—Å—è–Ω–∞—è, —Ä–∏—Å–æ–≤–∞—è, –ø—à–µ–Ω–Ω–∞—è
‚Ä¢ –ü–æ—Å—Ç–Ω—ã–µ —Å—É–ø—ã: –æ–≤–æ—â–Ω—ã–µ, –≥—Ä–∏–±–Ω—ã–µ, —â–∏ –ø–æ—Å—Ç–Ω—ã–µ
‚Ä¢ –û—Ç–≤–∞—Ä–Ω—ã–µ –æ–≤–æ—â–∏: –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –º–æ—Ä–∫–æ–≤—å, —Å–≤–µ–∫–ª–∞, –∫–∞–ø—É—Å—Ç–∞
‚Ä¢ –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –ø–µ—á–µ–Ω—ã–π –≤ –º—É–Ω–¥–∏—Ä–µ
‚Ä¢ –¢—É—à–µ–Ω—ã–µ –æ–≤–æ—â–∏ –±–µ–∑ –º–∞—Å–ª–∞
‚Ä¢ –ì—Ä–∏–±—ã –æ—Ç–≤–∞—Ä–Ω—ã–µ, —Ç—É—à–µ–Ω—ã–µ (–±–µ–∑ –º–∞—Å–ª–∞)
‚Ä¢ –ë–æ–±–æ–≤—ã–µ: –≥–æ—Ä–æ—Ö, —Ñ–∞—Å–æ–ª—å, —á–µ—á–µ–≤–∏—Ü–∞
‚Ä¢ –ú–∞–∫–∞—Ä–æ–Ω—ã (–∏–∑ —Ç–≤–µ—Ä–¥—ã—Ö —Å–æ—Ä—Ç–æ–≤ –ø—à–µ–Ω–∏—Ü—ã)
‚Ä¢ –ö–æ–º–ø–æ—Ç—ã –∏–∑ —Å–≤–µ–∂–∏—Ö —Ñ—Ä—É–∫—Ç–æ–≤
‚Ä¢ –ß–∞–π, –∫–æ—Ñ–µ, —Ç—Ä–∞–≤—è–Ω—ã–µ –æ—Ç–≤–∞—Ä—ã

‚ùå <strong>–ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ –¥–ª—è –≥–æ—Ç–æ–≤–∫–∏
‚Ä¢ –ñ–∞—Ä–µ–Ω–∞—è –ø–∏—â–∞
‚Ä¢ –ü—Ä–æ–¥—É–∫—Ç—ã –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è
‚Ä¢ –°–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ

üí° <strong>–†–µ—Ü–µ–ø—Ç:</strong> –û–≤–æ—â–Ω–æ–µ —Ä–∞–≥—É –±–µ–∑ –º–∞—Å–ª–∞ - —Ç—É—à–∏—Ç–µ –æ–≤–æ—â–∏ –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–æ–∫—É'''
            daily_info.spiritual_note = '–ì–æ—Ä—è—á–∞—è –ø–∏—â–∞ –±–µ–∑ –º–∞—Å–ª–∞. –í—Ä–µ–º—è —É–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∏—è.'
            
        else:  # –°—É–±–±–æ—Ç–∞, –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ - –≥–æ—Ä—è—á–µ–µ —Å –º–∞—Å–ª–æ–º
            daily_info.fasting_type = 'with_oil'
            daily_info.fasting_description = '–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: –≥–æ—Ä—è—á–∞—è –ø–∏—â–∞ —Å —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–º –º–∞—Å–ª–æ–º'
            daily_info.allowed_food = '''ü´í <strong>–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç - –≥–æ—Ä—è—á–µ–µ —Å –º–∞—Å–ª–æ–º:</strong>

‚úÖ <strong>–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –í—Å–µ –∫–∞—à–∏ —Å —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–º –º–∞—Å–ª–æ–º
‚Ä¢ –ñ–∞—Ä–µ–Ω—ã–µ –∏ —Ç—É—à–µ–Ω—ã–µ –æ–≤–æ—â–∏
‚Ä¢ –û–≤–æ—â–Ω—ã–µ —Ä–∞–≥—É —Å –º–∞—Å–ª–æ–º
‚Ä¢ –°–∞–ª–∞—Ç—ã –∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π —Å –º–∞—Å–ª–æ–º
‚Ä¢ –ñ–∞—Ä–µ–Ω—ã–µ –≥—Ä–∏–±—ã
‚Ä¢ –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –∂–∞—Ä–µ–Ω—ã–π, –¥—Ä–∞–Ω–∏–∫–∏ –ø–æ—Å—Ç–Ω—ã–µ
‚Ä¢ –ü–æ—Å—Ç–Ω–∞—è –≤—ã–ø–µ—á–∫–∞ (–ø–∏—Ä–æ–∂–∫–∏ —Å –∫–∞–ø—É—Å—Ç–æ–π, –∫–∞—Ä—Ç–æ—à–∫–æ–π)
‚Ä¢ –ü–æ—Å—Ç–Ω—ã–µ –±–ª–∏–Ω—ã –Ω–∞ –≤–æ–¥–µ
‚Ä¢ –°–æ–ª–µ–Ω—ã–µ –∏ –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ –æ–≤–æ—â–∏
‚Ä¢ –í–∞—Ä–µ–Ω—å–µ, –¥–∂–µ–º—ã
‚Ä¢ –í–∏–Ω–æ –∫—Ä–∞—Å–Ω–æ–µ (–Ω–µ–º–Ω–æ–≥–æ, –ø–æ —Ü–µ—Ä–∫–æ–≤–Ω–æ–º—É —É—Å—Ç–∞–≤—É)

üçá <strong>–ê–≤–≥—É—Å—Ç–æ–≤—Å–∫–∏–µ —Ä–∞–¥–æ—Å—Ç–∏:</strong>
‚Ä¢ –°–≤–µ–∂–∏–π –≤–∏–Ω–æ–≥—Ä–∞–¥
‚Ä¢ –ê—Ä–±—É–∑—ã –∏ –¥—ã–Ω–∏
‚Ä¢ –Ø–±–ª–æ–∫–∏ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–∂–∞—è
‚Ä¢ –ì—Ä—É—à–∏ –ª–µ—Ç–Ω–∏–µ

‚ùå <strong>–ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –ú—è—Å–æ –∏ –º—è—Å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
‚Ä¢ –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã (–º–æ–ª–æ–∫–æ, —Å—ã—Ä, —Ç–≤–æ—Ä–æ–≥, —Å–º–µ—Ç–∞–Ω–∞)
‚Ä¢ –Ø–π—Ü–∞
‚Ä¢ –†—ã–±–∞ (–∫—Ä–æ–º–µ 19 –∞–≤–≥—É—Å—Ç–∞)

üí° <strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:</strong> –í—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏ –ø–æ—Å—Ç–∞ –±–æ–ª–µ–µ –º—è–≥–∫–∏–µ'''
            daily_info.spiritual_note = '–í—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å –ø–æ—Å—Ç–∞. –í—Ä–µ–º—è –º–æ–ª–∏—Ç–≤—ã –≤ —Å–µ–º–µ–π–Ω–æ–º –∫—Ä—É–≥—É –∏ –¥—É—Ö–æ–≤–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è.'
        
        daily_info.save()
        created_count += 1
        print(f"   üìÖ {current.strftime('%d.%m.%Y')} ({['–ü–Ω','–í—Ç','–°—Ä','–ß—Ç','–ü—Ç','–°–±','–í—Å'][weekday]}) - {daily_info.get_fasting_type_display()}")
        
        current += timedelta(days=1)
    
    print(f"\n‚úÖ –°–æ–∑–¥–∞–Ω–æ {created_count} –∑–∞–ø–∏—Å–µ–π –æ –ø–æ—Å—Ç–∞—Ö")
    print(f"‚úÖ –°–æ–∑–¥–∞–Ω–æ {len(events)} –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π")

def add_wednesdays_fridays():
    """–î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ç–Ω—ã–µ —Å—Ä–µ–¥—ã –∏ –ø—è—Ç–Ω–∏—Ü—ã –Ω–∞ –≤–µ—Å—å –≥–æ–¥"""
    print("\nüìø –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ç–Ω—ã–µ —Å—Ä–µ–¥—ã –∏ –ø—è—Ç–Ω–∏—Ü—ã...")
    
    created_count = 0
    
    for month in range(1, 13):
        days_in_month = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month-1]
        if month == 2 and 2025 % 4 == 0:  # –í–∏—Å–æ–∫–æ—Å–Ω—ã–π –≥–æ–¥
            days_in_month = 29
            
        for day in range(1, days_in_month + 1):
            target_date = date(2025, month, day)
            weekday = target_date.weekday()
            
            if weekday in [2, 4]:  # –°—Ä–µ–¥–∞ –∏ –ø—è—Ç–Ω–∏—Ü–∞
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ—Ç –ª–∏ —É–∂–µ –∑–∞–ø–∏—Å–∏
                if not DailyOrthodoxInfo.objects.filter(month=month, day=day).exists():
                    day_name = "—Å—Ä–µ–¥–∞" if weekday == 2 else "–ø—è—Ç–Ω–∏—Ü–∞"
                    
                    daily_info = DailyOrthodoxInfo.objects.create(
                        month=month,
                        day=day,
                        fasting_type='light_fast',
                        fasting_description=f'–ü–æ—Å—Ç–Ω–∞—è {day_name}',
                        allowed_food=f'''ü•¨ <strong>–ü–æ—Å—Ç–Ω–∞—è {day_name}:</strong>

‚úÖ <strong>–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–∞—è –ø–∏—â–∞ –≤—Å–µ—Ö –≤–∏–¥–æ–≤
‚Ä¢ –ö–∞—à–∏ –Ω–∞ –≤–æ–¥–µ –∏–ª–∏ —Å —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–º –º–∞—Å–ª–æ–º
‚Ä¢ –û–≤–æ—â–∏ (—Å–≤–µ–∂–∏–µ, —Ç—É—à–µ–Ω—ã–µ, –≤–∞—Ä–µ–Ω—ã–µ, –∂–∞—Ä–µ–Ω—ã–µ)
‚Ä¢ –§—Ä—É–∫—Ç—ã –∏ —è–≥–æ–¥—ã
‚Ä¢ –û—Ä–µ—Ö–∏ –∏ —Å–µ–º–µ—á–∫–∏
‚Ä¢ –ì—Ä–∏–±—ã –≤ –ª—é–±–æ–º –≤–∏–¥–µ
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ
‚Ä¢ –•–ª–µ–± (–±–µ–∑ –º–æ–ª–æ–∫–∞ –∏ —è–∏—Ü)
‚Ä¢ –ú–µ–¥, –≤–∞—Ä–µ–Ω—å–µ
‚Ä¢ –ù–∞–ø–∏—Ç–∫–∏: —á–∞–π, –∫–æ—Ñ–µ, —Å–æ–∫–∏, –∫–æ–º–ø–æ—Ç—ã

‚ùå <strong>–ù–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –ú—è—Å–æ –∏ –º—è—Å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
‚Ä¢ –ú–æ–ª–æ–∫–æ –∏ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
‚Ä¢ –Ø–π—Ü–∞
‚Ä¢ –†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã''',
                        spiritual_note='–°—Ä–µ–¥–∞ - –¥–µ–Ω—å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ò—É–¥—ã. –í—Ä–µ–º—è –¥–ª—è –ø–æ–∫–∞—è–Ω–∏—è –∏ –¥–µ–ª –º–∏–ª–æ—Å–µ—Ä–¥–∏—è.' if weekday == 2 else '–ü—è—Ç–Ω–∏—Ü–∞ - –¥–µ–Ω—å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫—Ä–µ—Å—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–¥–∞–Ω–∏–π –°–ø–∞—Å–∏—Ç–µ–ª—è. –î–µ–Ω—å –æ—Å–æ–±–æ–π –º–æ–ª–∏—Ç–≤—ã –∏ –≤–æ–∑–¥–µ—Ä–∂–∞–Ω–∏—è.'
                    )
                    created_count += 1
    
    print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ {created_count} –ø–æ—Å—Ç–Ω—ã—Ö –¥–Ω–µ–π (—Å—Ä–µ–¥—ã –∏ –ø—è—Ç–Ω–∏—Ü—ã)")

def show_statistics():
    """–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"""
    print("\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è:")
    
    total_daily = DailyOrthodoxInfo.objects.count()
    total_events = OrthodoxEvent.objects.count()
    
    no_fast = DailyOrthodoxInfo.objects.filter(fasting_type='no_fast').count()
    light_fast = DailyOrthodoxInfo.objects.filter(fasting_type='light_fast').count()
    strict_fast = DailyOrthodoxInfo.objects.filter(fasting_type='strict_fast').count()
    dry_eating = DailyOrthodoxInfo.objects.filter(fasting_type='dry_eating').count()
    with_oil = DailyOrthodoxInfo.objects.filter(fasting_type='with_oil').count()
    with_fish = DailyOrthodoxInfo.objects.filter(fasting_type='with_fish').count()
    
    # –£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç
    uspenie_days = DailyOrthodoxInfo.objects.filter(
        month=8, day__gte=14, day__lte=27
    ).count()
    
    print(f"   ‚Ä¢ –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –æ –ø–æ—Å—Ç–∞—Ö: {total_daily}")
    print(f"   ‚Ä¢ –ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π: {total_events}")
    print(f"   ‚Ä¢ –î–Ω–µ–π –±–µ–∑ –ø–æ—Å—Ç–∞: {no_fast}")
    print(f"   ‚Ä¢ –î–Ω–µ–π –ª–µ–≥–∫–æ–≥–æ –ø–æ—Å—Ç–∞: {light_fast}")
    print(f"   ‚Ä¢ –î–Ω–µ–π —Å—Ç—Ä–æ–≥–æ–≥–æ –ø–æ—Å—Ç–∞: {strict_fast}")
    print(f"   ‚Ä¢ –î–Ω–µ–π —Å—É—Ö–æ—è–¥–µ–Ω–∏—è: {dry_eating}")
    print(f"   ‚Ä¢ –î–Ω–µ–π —Å –º–∞—Å–ª–æ–º: {with_oil}")
    print(f"   ‚Ä¢ –î–Ω–µ–π —Å —Ä—ã–±–æ–π: {with_fish}")
    print(f"   ‚Ä¢ –î–Ω–µ–π –£—Å–ø–µ–Ω—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∞: {uspenie_days}")
    
    print("\nüìñ –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:")
    print("   ‚Ä¢ –¢–∏–ø–∏–∫–æ–Ω (—Ü–µ—Ä–∫–æ–≤–Ω—ã–π —É—Å—Ç–∞–≤)")
    print("   ‚Ä¢ –ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã–π –∂—É—Ä–Ω–∞–ª '–§–æ–º–∞'")
    print("   ‚Ä¢ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ü–µ—Ä–∫–æ–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏")
    print("   ‚Ä¢ –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –ü–∞—Ç—Ä–∏–∞—Ä—Ö–∏—è")

if __name__ == "__main__":
    print("üïäÔ∏è –ó–∞–ø—É—Å–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è...")
    print("üìñ –ò—Å—Ç–æ—á–Ω–∏–∫–∏: –¢–∏–ø–∏–∫–æ–Ω, –∂—É—Ä–Ω–∞–ª '–§–æ–º–∞', –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ü–µ—Ä–∫–æ–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏")
    print("=" * 70)
    
    try:
        # –ó–∞–ø–æ–ª–Ω—è–µ–º –£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç
        populate_uspenie_fast()
        
        # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ç–Ω—ã–µ —Å—Ä–µ–¥—ã –∏ –ø—è—Ç–Ω–∏—Ü—ã
        add_wednesdays_fridays()
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        show_statistics()
        
        print("\nüéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è:")
        print("   ‚Ä¢ –£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç (14-27 –∞–≤–≥—É—Å—Ç–∞) –∑–∞–ø–æ–ª–Ω–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é")
        print("   ‚Ä¢ –°—Ä–µ–¥—ã –∏ –ø—è—Ç–Ω–∏—Ü—ã –æ—Ç–º–µ—á–µ–Ω—ã –∫–∞–∫ –ø–æ—Å—Ç–Ω—ã–µ –¥–Ω–∏")
        print("   ‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö")
        print("   ‚Ä¢ –£—á—Ç–µ–Ω—ã –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–Ω–∞—Å—Ç—ã—Ä—Å–∫–æ–≥–æ –∏ –º–∏—Ä—è–Ω—Å–∫–æ–≥–æ —É—Å—Ç–∞–≤–æ–≤")
        
        print("\n‚úÖ –ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω!")
        print("üì± –í–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ—Å—Ç–∞—Ö")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è: {e}")
        import traceback
        traceback.print_exc()
