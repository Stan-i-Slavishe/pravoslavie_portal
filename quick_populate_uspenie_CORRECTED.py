#!/usr/bin/env python
"""
–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –£—Å–ø–µ–Ω—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏
"""

import os
import sys
import django

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
django.setup()

from datetime import date, timedelta
from pwa.models import DailyOrthodoxInfo, OrthodoxEvent

def populate_uspenie_fast_corrected():
    """–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –£—Å–ø–µ–Ω—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∞ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏"""
    print("üçá –ó–∞–ø–æ–ª–Ω—è–µ–º –£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç —Å –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ú–ò –¥–∞—Ç–∞–º–∏...")
    
    # –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤–≥—É—Å—Ç–∞-—Å–µ–Ω—Ç—è–±—Ä—è
    DailyOrthodoxInfo.objects.filter(month=8, day__gte=14, day__lte=29).delete()
    DailyOrthodoxInfo.objects.filter(month=9, day=11).delete()
    OrthodoxEvent.objects.filter(month=8, day__gte=14, day__lte=29).delete()
    OrthodoxEvent.objects.filter(month=9, day=11).delete()
    
    # –£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: 14-27 –∞–≤–≥—É—Å—Ç–∞ 2025
    start_date = date(2025, 8, 14)
    end_date = date(2025, 8, 27)
    
    # –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï —Å–æ–±—ã—Ç–∏—è
    events = [
        (8, 14, "–ú–µ–¥–æ–≤—ã–π –°–ø–∞—Å (–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –ß–µ—Å—Ç–Ω—ã—Ö –î—Ä–µ–≤)", "–ü–µ—Ä–≤—ã–π –°–ø–∞—Å. –û—Å–≤—è—â–µ–Ω–∏–µ –º–µ–¥–∞ –∏ –º–∞–∫–∞.", 'major_feast'),
        (8, 19, "–ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ (–Ø–±–ª–æ—á–Ω—ã–π –°–ø–∞—Å)", "–í–µ–ª–∏–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫ –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏—è. –û—Å–≤—è—â–µ–Ω–∏–µ —è–±–ª–æ–∫ –∏ –≤–∏–Ω–æ–≥—Ä–∞–¥–∞.", 'great_feast'),
        (8, 28, "–£—Å–ø–µ–Ω–∏–µ –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã", "–í–µ–ª–∏–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫ –£—Å–ø–µ–Ω–∏—è –ë–æ–∂–∏–µ–π –ú–∞—Ç–µ—Ä–∏.", 'great_feast'),
        (8, 29, "–û—Ä–µ—Ö–æ–≤—ã–π –°–ø–∞—Å (–ù–µ—Ä—É–∫–æ—Ç–≤–æ—Ä–Ω—ã–π –û–±—Ä–∞–∑)", "–¢—Ä–µ—Ç–∏–π –°–ø–∞—Å. –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∏–µ –ù–µ—Ä—É–∫–æ—Ç–≤–æ—Ä–Ω–æ–≥–æ –û–±—Ä–∞–∑–∞ –∏–∑ –ï–¥–µ—Å—Å—ã –≤ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–ø–æ–ª—å.", 'major_feast'),
        (9, 11, "–£—Å–µ–∫–Ω–æ–≤–µ–Ω–∏–µ –≥–ª–∞–≤—ã –ò–æ–∞–Ω–Ω–∞ –ü—Ä–µ–¥—Ç–µ—á–∏", "–°—Ç—Ä–æ–≥–∏–π –ø–æ—Å—Ç–Ω—ã–π –¥–µ–Ω—å. –î–µ–Ω—å –ø–∞–º—è—Ç–∏ –º—É—á–µ–Ω–∏—á–µ—Å–∫–æ–π —Å–º–µ—Ä—Ç–∏ –ò–æ–∞–Ω–Ω–∞ –ö—Ä–µ—Å—Ç–∏—Ç–µ–ª—è.", 'fast_day'),
    ]
    
    for month, day, title, description, event_type in events:
        OrthodoxEvent.objects.create(
            month=month,
            day=day,
            title=title,
            description=description,
            event_type=event_type,
            is_movable=False
        )
        print(f"   ‚úÖ –°–æ–∑–¥–∞–Ω–æ —Å–æ–±—ã—Ç–∏–µ: {title}")
    
    # –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–Ω–∏ –ø–æ—Å—Ç–∞ (14-27 –∞–≤–≥—É—Å—Ç–∞)
    current = start_date
    created_count = 0
    
    while current <= end_date:
        weekday = current.weekday()  # 0=–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 6=–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
        
        daily_info = DailyOrthodoxInfo.objects.create(
            month=current.month,
            day=current.day
        )
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø–æ—Å—Ç–∞ –ø–æ –¥–Ω—é –Ω–µ–¥–µ–ª–∏
        if current.day == 19 and current.month == 8:  # –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ
            daily_info.fasting_type = 'with_fish'
            daily_info.fasting_description = '–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ (–Ø–±–ª–æ—á–Ω—ã–π –°–ø–∞—Å)'
            daily_info.allowed_food = '''üçé <strong>–ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ - –º–æ–∂–Ω–æ —Ä—ã–±—É!</strong>

–í –ø—Ä–∞–∑–¥–Ω–∏–∫ –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:

‚úÖ <strong>–ú–æ–∂–Ω–æ:</strong>
‚Ä¢ –†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã üêü
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–∞—è –ø–∏—â–∞ —Å –º–∞—Å–ª–æ–º
‚Ä¢ –û–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã (–æ—Å–æ–±–µ–Ω–Ω–æ —è–±–ª–æ–∫–∏!)
‚Ä¢ –ö–∞—à–∏ —Å –º–∞—Å–ª–æ–º
‚Ä¢ –ì—Ä–∏–±—ã –∂–∞—Ä–µ–Ω—ã–µ
‚Ä¢ –û—Ä–µ—Ö–∏, –º–µ–¥
‚Ä¢ –í–∏–Ω–æ (–Ω–µ–º–Ω–æ–≥–æ)

üçé <strong>–¢—Ä–∞–¥–∏—Ü–∏—è:</strong> –û—Å–≤—è—â–µ–Ω–∏–µ —è–±–ª–æ–∫ –∏ –¥—Ä—É–≥–∏—Ö –ø–ª–æ–¥–æ–≤

‚ùå <strong>–ó–∞–ø—Ä–µ—â–µ–Ω–æ:</strong>
‚Ä¢ –ú—è—Å–æ –∏ –º—è—Å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
‚Ä¢ –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã  
‚Ä¢ –Ø–π—Ü–∞'''
            daily_info.spiritual_note = 'üçé –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ! –Ø–±–ª–æ—á–Ω—ã–π –°–ø–∞—Å. –ë–ª–∞–≥–æ—Å–ª–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–π —É—Ä–æ–∂–∞–π –∏ –≤—Å–ø–æ–º–Ω–∏—Ç–µ –æ –ø—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –¥—É—à–∏.'
            
        elif weekday in [0, 2, 4]:  # –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, —Å—Ä–µ–¥–∞, –ø—è—Ç–Ω–∏—Ü–∞ - —Å—É—Ö–æ—è–¥–µ–Ω–∏–µ
            daily_info.fasting_type = 'dry_eating'
            daily_info.fasting_description = '–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: —Å—É—Ö–æ—è–¥–µ–Ω–∏–µ'
            daily_info.allowed_food = '''ü•ó <strong>–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç - —Å—É—Ö–æ—è–¥–µ–Ω–∏–µ (—Ö–æ–ª–æ–¥–Ω–∞—è –ø–∏—â–∞):</strong>

–ê–≤–≥—É—Å—Ç –±–æ–≥–∞—Ç –¥–∞—Ä–∞–º–∏ –ø—Ä–∏—Ä–æ–¥—ã!

‚úÖ <strong>–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –°–≤–µ–∂–∏–µ –æ–≤–æ—â–∏: –æ–≥—É—Ä—Ü—ã, –ø–æ–º–∏–¥–æ—Ä—ã, –∫–∞–ø—É—Å—Ç–∞, –º–æ—Ä–∫–æ–≤—å, –ø–µ—Ä–µ—Ü
‚Ä¢ –õ–µ—Ç–Ω–∏–µ —Ñ—Ä—É–∫—Ç—ã: —è–±–ª–æ–∫–∏, –≥—Ä—É—à–∏, —Å–ª–∏–≤—ã, –ø–µ—Ä—Å–∏–∫–∏
‚Ä¢ –Ø–≥–æ–¥—ã: –≤–∏–Ω–æ–≥—Ä–∞–¥, –∞—Ä–±—É–∑, –¥—ã–Ω—è, —Å–º–æ—Ä–æ–¥–∏–Ω–∞
‚Ä¢ –û—Ä–µ—Ö–∏ –≤—Å–µ—Ö –≤–∏–¥–æ–≤
‚Ä¢ –°–µ–º–µ—á–∫–∏ –ø–æ–¥—Å–æ–ª–Ω–µ—á–Ω—ã–µ, —Ç—ã–∫–≤–µ–Ω–Ω—ã–µ
‚Ä¢ –ú–µ–¥ —Å–≤–µ–∂–∏–π
‚Ä¢ –•–ª–µ–± –ø–æ—Å—Ç–Ω—ã–π (–±–µ–∑ –º–æ–ª–æ–∫–∞ –∏ —è–∏—Ü)
‚Ä¢ –°—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã: –∏–∑—é–º, –∫—É—Ä–∞–≥–∞, –∏–Ω–∂–∏—Ä
‚Ä¢ –í–æ–¥–∞, –∫–≤–∞—Å –¥–æ–º–∞—à–Ω–∏–π, –º–æ—Ä—Å—ã (—Ö–æ–ª–æ–¥–Ω—ã–µ)

‚ùå <strong>–ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –õ—é–±–∞—è –≥–æ—Ä—è—á–∞—è –ø–∏—â–∞
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ
‚Ä¢ –ü—Ä–æ–¥—É–∫—Ç—ã –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è
‚Ä¢ –í–∞—Ä–µ–Ω—å–µ (–º–æ–∂–Ω–æ –º–µ–¥)

üí° <strong>–°–æ–≤–µ—Ç:</strong> –î–µ–ª–∞–π—Ç–µ —Å–∞–ª–∞—Ç—ã –∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π –±–µ–∑ –º–∞—Å–ª–∞, –Ω–æ —Å –ª–∏–º–æ–Ω–Ω—ã–º —Å–æ–∫–æ–º'''
            daily_info.spiritual_note = '–î–µ–Ω—å —Å—É—Ö–æ—è–¥–µ–Ω–∏—è –≤ –£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç. –í—Ä–µ–º—è —Å—Ç—Ä–æ–≥–æ–≥–æ –≤–æ–∑–¥–µ—Ä–∂–∞–Ω–∏—è –≤ –ø–∞–º—è—Ç—å –æ –ø–æ—Å—Ç–µ –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã –ø–µ—Ä–µ–¥ –£—Å–ø–µ–Ω–∏–µ–º.'
            
        elif weekday in [1, 3]:  # –í—Ç–æ—Ä–Ω–∏–∫, —á–µ—Ç–≤–µ—Ä–≥ - –≥–æ—Ä—è—á–µ–µ –±–µ–∑ –º–∞—Å–ª–∞
            daily_info.fasting_type = 'strict_fast'
            daily_info.fasting_description = '–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: –≥–æ—Ä—è—á–∞—è –ø–∏—â–∞ –±–µ–∑ –º–∞—Å–ª–∞'
            daily_info.allowed_food = '''üç≤ <strong>–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç - –≥–æ—Ä—è—á–µ–µ –±–µ–∑ –º–∞—Å–ª–∞:</strong>

‚úÖ <strong>–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –ö–∞—à–∏ –Ω–∞ –≤–æ–¥–µ: –≥—Ä–µ—á–Ω–µ–≤–∞—è, –æ–≤—Å—è–Ω–∞—è, —Ä–∏—Å–æ–≤–∞—è, –ø—à–µ–Ω–Ω–∞—è
‚Ä¢ –ü–æ—Å—Ç–Ω—ã–µ —Å—É–ø—ã: –æ–≤–æ—â–Ω—ã–µ, –≥—Ä–∏–±–Ω—ã–µ, —â–∏ –ø–æ—Å—Ç–Ω—ã–µ
‚Ä¢ –û—Ç–≤–∞—Ä–Ω—ã–µ –æ–≤–æ—â–∏: –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –º–æ—Ä–∫–æ–≤—å, —Å–≤–µ–∫–ª–∞, –∫–∞–ø—É—Å—Ç–∞
‚Ä¢ –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –ø–µ—á–µ–Ω—ã–π –≤ –º—É–Ω–¥–∏—Ä–µ
‚Ä¢ –¢—É—à–µ–Ω—ã–µ –æ–≤–æ—â–∏ –±–µ–∑ –º–∞—Å–ª–∞
‚Ä¢ –ì—Ä–∏–±—ã –æ—Ç–≤–∞—Ä–Ω—ã–µ, —Ç—É—à–µ–Ω—ã–µ (–±–µ–∑ –º–∞—Å–ª–∞)
‚Ä¢ –ë–æ–±–æ–≤—ã–µ: –≥–æ—Ä–æ—Ö, —Ñ–∞—Å–æ–ª—å, —á–µ—á–µ–≤–∏—Ü–∞
‚Ä¢ –ú–∞–∫–∞—Ä–æ–Ω—ã (–∏–∑ —Ç–≤–µ—Ä–¥—ã—Ö —Å–æ—Ä—Ç–æ–≤ –ø—à–µ–Ω–∏—Ü—ã)
‚Ä¢ –ö–æ–º–ø–æ—Ç—ã –∏–∑ —Å–≤–µ–∂–∏—Ö —Ñ—Ä—É–∫—Ç–æ–≤
‚Ä¢ –ß–∞–π, –∫–æ—Ñ–µ, —Ç—Ä–∞–≤—è–Ω—ã–µ –æ—Ç–≤–∞—Ä—ã

‚ùå <strong>–ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ –¥–ª—è –≥–æ—Ç–æ–≤–∫–∏
‚Ä¢ –ñ–∞—Ä–µ–Ω–∞—è –ø–∏—â–∞
‚Ä¢ –ü—Ä–æ–¥—É–∫—Ç—ã –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è
‚Ä¢ –°–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ

üí° <strong>–†–µ—Ü–µ–ø—Ç:</strong> –û–≤–æ—â–Ω–æ–µ —Ä–∞–≥—É –±–µ–∑ –º–∞—Å–ª–∞ - —Ç—É—à–∏—Ç–µ –æ–≤–æ—â–∏ –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–æ–∫—É'''
            daily_info.spiritual_note = '–ì–æ—Ä—è—á–∞—è –ø–∏—â–∞ –±–µ–∑ –º–∞—Å–ª–∞. –í—Ä–µ–º—è —É–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∏—è.'
            
        else:  # –°—É–±–±–æ—Ç–∞, –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ - –≥–æ—Ä—è—á–µ–µ —Å –º–∞—Å–ª–æ–º
            daily_info.fasting_type = 'with_oil'
            daily_info.fasting_description = '–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç: –≥–æ—Ä—è—á–∞—è –ø–∏—â–∞ —Å —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–º –º–∞—Å–ª–æ–º'
            daily_info.allowed_food = '''ü´í <strong>–£—Å–ø–µ–Ω—Å–∫–∏–π –ø–æ—Å—Ç - –≥–æ—Ä—è—á–µ–µ —Å –º–∞—Å–ª–æ–º:</strong>

‚úÖ <strong>–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –í—Å–µ –∫–∞—à–∏ —Å —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–º –º–∞—Å–ª–æ–º
‚Ä¢ –ñ–∞—Ä–µ–Ω—ã–µ –∏ —Ç—É—à–µ–Ω—ã–µ –æ–≤–æ—â–∏
‚Ä¢ –û–≤–æ—â–Ω—ã–µ —Ä–∞–≥—É —Å –º–∞—Å–ª–æ–º
‚Ä¢ –°–∞–ª–∞—Ç—ã –∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π —Å –º–∞—Å–ª–æ–º
‚Ä¢ –ñ–∞—Ä–µ–Ω—ã–µ –≥—Ä–∏–±—ã
‚Ä¢ –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –∂–∞—Ä–µ–Ω—ã–π, –¥—Ä–∞–Ω–∏–∫–∏ –ø–æ—Å—Ç–Ω—ã–µ
‚Ä¢ –ü–æ—Å—Ç–Ω–∞—è –≤—ã–ø–µ—á–∫–∞ (–ø–∏—Ä–æ–∂–∫–∏ —Å –∫–∞–ø—É—Å—Ç–æ–π, –∫–∞—Ä—Ç–æ—à–∫–æ–π)
‚Ä¢ –ü–æ—Å—Ç–Ω—ã–µ –±–ª–∏–Ω—ã –Ω–∞ –≤–æ–¥–µ
‚Ä¢ –°–æ–ª–µ–Ω—ã–µ –∏ –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ –æ–≤–æ—â–∏
‚Ä¢ –í–∞—Ä–µ–Ω—å–µ, –¥–∂–µ–º—ã
‚Ä¢ –í–∏–Ω–æ –∫—Ä–∞—Å–Ω–æ–µ (–Ω–µ–º–Ω–æ–≥–æ, –ø–æ —Ü–µ—Ä–∫–æ–≤–Ω–æ–º—É —É—Å—Ç–∞–≤—É)

üçá <strong>–ê–≤–≥—É—Å—Ç–æ–≤—Å–∫–∏–µ —Ä–∞–¥–æ—Å—Ç–∏:</strong>
‚Ä¢ –°–≤–µ–∂–∏–π –≤–∏–Ω–æ–≥—Ä–∞–¥
‚Ä¢ –ê—Ä–±—É–∑—ã –∏ –¥—ã–Ω–∏
‚Ä¢ –Ø–±–ª–æ–∫–∏ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–∂–∞—è
‚Ä¢ –ì—Ä—É—à–∏ –ª–µ—Ç–Ω–∏–µ

‚ùå <strong>–ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –ú—è—Å–æ –∏ –º—è—Å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
‚Ä¢ –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã (–º–æ–ª–æ–∫–æ, —Å—ã—Ä, —Ç–≤–æ—Ä–æ–≥, —Å–º–µ—Ç–∞–Ω–∞)
‚Ä¢ –Ø–π—Ü–∞
‚Ä¢ –†—ã–±–∞ (–∫—Ä–æ–º–µ 19 –∞–≤–≥—É—Å—Ç–∞)

üí° <strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:</strong> –í—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏ –ø–æ—Å—Ç–∞ –±–æ–ª–µ–µ –º—è–≥–∫–∏–µ'''
            daily_info.spiritual_note = '–í—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å –ø–æ—Å—Ç–∞. –í—Ä–µ–º—è –º–æ–ª–∏—Ç–≤—ã –≤ —Å–µ–º–µ–π–Ω–æ–º –∫—Ä—É–≥—É –∏ –¥—É—Ö–æ–≤–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è.'
        
        daily_info.save()
        created_count += 1
        print(f"   üìÖ {current.strftime('%d.%m.%Y')} ({['–ü–Ω','–í—Ç','–°—Ä','–ß—Ç','–ü—Ç','–°–±','–í—Å'][weekday]}) - {daily_info.get_fasting_type_display()}")
        
        current += timedelta(days=1)
    
    # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ 28 –∞–≤–≥—É—Å—Ç–∞ (–£—Å–ø–µ–Ω–∏–µ - –ø–æ—Å—Ç –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è)
    daily_info = DailyOrthodoxInfo.objects.create(
        month=8,
        day=28,
        fasting_type='no_fast',
        fasting_description='–í–µ–ª–∏–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫: –£—Å–ø–µ–Ω–∏–µ –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã',
        allowed_food='''üéâ <strong>–í–µ–ª–∏–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫ - –ø–æ—Å—Ç–∞ –Ω–µ—Ç!</strong>

–í —á–µ—Å—Ç—å –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –£—Å–ø–µ–Ω–∏—è –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –ª—é–±–∞—è –ø–∏—â–∞.

üçΩÔ∏è <strong>–ú–æ–∂–Ω–æ —É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å:</strong>
‚Ä¢ –í—Å–µ –≤–∏–¥—ã –º—è—Å–Ω—ã—Ö –±–ª—é–¥
‚Ä¢ –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
‚Ä¢ –Ø–π—Ü–∞ –≤ –ª—é–±–æ–º –≤–∏–¥–µ
‚Ä¢ –†—ã–±—É –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã
‚Ä¢ –õ—é–±—É—é –¥—Ä—É–≥—É—é –ø–∏—â—É
‚Ä¢ –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —Å–ª–∞–¥–æ—Å—Ç–∏

üéä <strong>–¢—Ä–∞–¥–∏—Ü–∏—è:</strong> –ü—Ä–∞–∑–¥–Ω–∏—á–Ω–∞—è —Ç—Ä–∞–ø–µ–∑–∞ –≤ –∫—Ä—É–≥—É —Å–µ–º—å–∏''',
        spiritual_note='üéâ –£—Å–ø–µ–Ω–∏–µ –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã! –í–µ–ª–∏–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫ —É—Å–ø–µ–Ω–∏—è –ë–æ–∂–∏–µ–π –ú–∞—Ç–µ—Ä–∏. –†–∞–¥—É–π—Ç–µ—Å—å –∏ –±–ª–∞–≥–æ—Å–ª–æ–≤–ª—è–π—Ç–µ –ì–æ—Å–ø–æ–¥–∞!'
    )
    
    # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ 29 –∞–≤–≥—É—Å—Ç–∞ (–û—Ä–µ—Ö–æ–≤—ã–π –°–ø–∞—Å)
    daily_info = DailyOrthodoxInfo.objects.create(
        month=8,
        day=29,
        fasting_type='no_fast',
        fasting_description='–û—Ä–µ—Ö–æ–≤—ã–π –°–ø–∞—Å (–ù–µ—Ä—É–∫–æ—Ç–≤–æ—Ä–Ω—ã–π –û–±—Ä–∞–∑)',
        allowed_food='''üå∞ <strong>–û—Ä–µ—Ö–æ–≤—ã–π –°–ø–∞—Å - –ø–æ—Å—Ç–∞ –Ω–µ—Ç!</strong>

–¢—Ä–µ—Ç–∏–π –°–ø–∞—Å - –¥–µ–Ω—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∏—è –ù–µ—Ä—É–∫–æ—Ç–≤–æ—Ä–Ω–æ–≥–æ –û–±—Ä–∞–∑–∞ –°–ø–∞—Å–∏—Ç–µ–ª—è.

üçΩÔ∏è <strong>–ú–æ–∂–Ω–æ —É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å:</strong>
‚Ä¢ –õ—é–±—É—é –ø–∏—â—É (–ø–æ—Å—Ç —É–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω)
‚Ä¢ –û—Ä–µ—Ö–∏ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–∂–∞—è
‚Ä¢ –•–ª–µ–± –∏–∑ –Ω–æ–≤–æ–≥–æ –∑–µ—Ä–Ω–∞
‚Ä¢ –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –±–ª—é–¥–∞

üå∞ <strong>–¢—Ä–∞–¥–∏—Ü–∏–∏:</strong>
‚Ä¢ –û—Å–≤—è—â–µ–Ω–∏–µ –æ—Ä–µ—Ö–æ–≤ –∏ —Ö–ª–µ–±–∞
‚Ä¢ –ü–æ–∫—É–ø–∫–∞ —Ç–∫–∞–Ω–µ–π –∏ —Ö–æ–ª—Å—Ç–æ–≤
‚Ä¢ –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –æ—Ä–µ—Ö–æ–≤ –Ω–∞ –∑–∏–º—É

üéä <strong>–ü–æ–≥–æ–≤–æ—Ä–∫–∞:</strong> "–¢—Ä–µ—Ç–∏–π –°–ø–∞—Å - –Ω–∞ –∑–µ–ª–µ–Ω—ã—Ö –≥–æ—Ä–∞—Ö —Ö–æ–ª—Å—Ç—ã –ø—Ä–æ–¥–∞—é—Ç"''',
        spiritual_note='üå∞ –û—Ä–µ—Ö–æ–≤—ã–π –°–ø–∞—Å! –î–µ–Ω—å –ù–µ—Ä—É–∫–æ—Ç–≤–æ—Ä–Ω–æ–≥–æ –û–±—Ä–∞–∑–∞ –°–ø–∞—Å–∏—Ç–µ–ª—è. –í—Ä–µ–º—è –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω–∏—è –∑–∞ —É—Ä–æ–∂–∞–π –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –æ—Å–µ–Ω–∏.'
    )
    
    # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ 11 —Å–µ–Ω—Ç—è–±—Ä—è (–£—Å–µ–∫–Ω–æ–≤–µ–Ω–∏–µ –≥–ª–∞–≤—ã –ò–æ–∞–Ω–Ω–∞ –ü—Ä–µ–¥—Ç–µ—á–∏)
    daily_info = DailyOrthodoxInfo.objects.create(
        month=9,
        day=11,
        fasting_type='strict_fast',
        fasting_description='–£—Å–µ–∫–Ω–æ–≤–µ–Ω–∏–µ –≥–ª–∞–≤—ã –ò–æ–∞–Ω–Ω–∞ –ü—Ä–µ–¥—Ç–µ—á–∏',
        allowed_food='''‚úùÔ∏è <strong>–°—Ç—Ä–æ–≥–∏–π –ø–æ—Å—Ç–Ω—ã–π –¥–µ–Ω—å:</strong>

–î–µ–Ω—å –ø–∞–º—è—Ç–∏ –º—É—á–µ–Ω–∏—á–µ—Å–∫–æ–π —Å–º–µ—Ä—Ç–∏ –ò–æ–∞–Ω–Ω–∞ –ö—Ä–µ—Å—Ç–∏—Ç–µ–ª—è.

‚úÖ <strong>–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–∞—è –ø–∏—â–∞
‚Ä¢ –ö–∞—à–∏ –Ω–∞ –≤–æ–¥–µ
‚Ä¢ –û–≤–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç—ã
‚Ä¢ –•–ª–µ–± –ø–æ—Å—Ç–Ω—ã–π
‚Ä¢ –û—Ä–µ—Ö–∏ (—É–º–µ—Ä–µ–Ω–Ω–æ)
‚Ä¢ –ú–µ–¥ (–Ω–µ–º–Ω–æ–≥–æ)

‚ùå <strong>–ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è:</strong>
‚Ä¢ –ú—è—Å–æ, –º–æ–ª–æ–∫–æ, —è–π—Ü–∞
‚Ä¢ –†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã
‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ (–¥–ª—è —Å—Ç—Ä–æ–≥–∏—Ö)
‚Ä¢ –ê–ª–∫–æ–≥–æ–ª—å
‚Ä¢ –°–ª–∞–¥–æ—Å—Ç–∏ (–∫—Ä–æ–º–µ –º–µ–¥–∞)

‚ö†Ô∏è <strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:</strong> –í —ç—Ç–æ—Ç –¥–µ–Ω—å –º–Ω–æ–≥–∏–µ –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ–∑–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –æ—Ç –ø–∏—â–∏ –¥–æ –≤–µ—á–µ—Ä–∞''',
        spiritual_note='‚úùÔ∏è –£—Å–µ–∫–Ω–æ–≤–µ–Ω–∏–µ –≥–ª–∞–≤—ã –ò–æ–∞–Ω–Ω–∞ –ü—Ä–µ–¥—Ç–µ—á–∏. –î–µ–Ω—å —Å–∫–æ—Ä–±–∏ –æ –º—É—á–µ–Ω–∏—á–µ—Å–∫–æ–π —Å–º–µ—Ä—Ç–∏ –ö—Ä–µ—Å—Ç–∏—Ç–µ–ª—è –ì–æ—Å–ø–æ–¥–Ω—è. –í—Ä–µ–º—è —Å—Ç—Ä–æ–≥–æ–≥–æ –ø–æ—Å—Ç–∞ –∏ –º–æ–ª–∏—Ç–≤—ã.'
    )
    
    print(f"\n‚úÖ –°–æ–∑–¥–∞–Ω–æ {created_count + 3} –∑–∞–ø–∏—Å–µ–π —Å –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ú–ò –¥–∞—Ç–∞–º–∏")
    print(f"‚úÖ –°–æ–∑–¥–∞–Ω–æ {len(events)} –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π")

def show_corrected_statistics():
    """–ü–æ–∫–∞–∑–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"""
    print("\nüìä –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è:")
    
    total_daily = DailyOrthodoxInfo.objects.count()
    total_events = OrthodoxEvent.objects.count()
    
    uspenie_days = DailyOrthodoxInfo.objects.filter(
        month=8, day__gte=14, day__lte=27
    ).count()
    
    print(f"   ‚Ä¢ –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –æ –ø–æ—Å—Ç–∞—Ö: {total_daily}")
    print(f"   ‚Ä¢ –ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π: {total_events}")
    print(f"   ‚Ä¢ –î–Ω–µ–π –£—Å–ø–µ–Ω—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∞: {uspenie_days}")
    
    print("\nüìÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π:")
    print("   ‚Ä¢ 14 –∞–≤–≥—É—Å—Ç–∞ - –ú–µ–¥–æ–≤—ã–π –°–ø–∞—Å (–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –ß–µ—Å—Ç–Ω—ã—Ö –î—Ä–µ–≤)")
    print("   ‚Ä¢ 19 –∞–≤–≥—É—Å—Ç–∞ - –Ø–±–ª–æ—á–Ω—ã–π –°–ø–∞—Å (–ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–æ—Å–ø–æ–¥–Ω–µ)")
    print("   ‚Ä¢ 28 –∞–≤–≥—É—Å—Ç–∞ - –£—Å–ø–µ–Ω–∏–µ –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã")
    print("   ‚Ä¢ 29 –∞–≤–≥—É—Å—Ç–∞ - –û—Ä–µ—Ö–æ–≤—ã–π –°–ø–∞—Å (–ù–µ—Ä—É–∫–æ—Ç–≤–æ—Ä–Ω—ã–π –û–±—Ä–∞–∑)")
    print("   ‚Ä¢ 11 —Å–µ–Ω—Ç—è–±—Ä—è - –£—Å–µ–∫–Ω–æ–≤–µ–Ω–∏–µ –≥–ª–∞–≤—ã –ò–æ–∞–Ω–Ω–∞ –ü—Ä–µ–¥—Ç–µ—á–∏")
    
    print("\n‚ùå –ò–°–ü–†–ê–í–õ–ï–ù–ê –û–®–ò–ë–ö–ê:")
    print("   –£–±—Ä–∞–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ: '29 –∞–≤–≥—É—Å—Ç–∞ - –£—Å–µ–∫–Ω–æ–≤–µ–Ω–∏–µ –≥–ª–∞–≤—ã –ò–æ–∞–Ω–Ω–∞ –ü—Ä–µ–¥—Ç–µ—á–∏'")
    print("   –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ: '11 —Å–µ–Ω—Ç—è–±—Ä—è - –£—Å–µ–∫–Ω–æ–≤–µ–Ω–∏–µ –≥–ª–∞–≤—ã –ò–æ–∞–Ω–Ω–∞ –ü—Ä–µ–¥—Ç–µ—á–∏'")
    print("   –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ: '29 –∞–≤–≥—É—Å—Ç–∞ - –û—Ä–µ—Ö–æ–≤—ã–π –°–ø–∞—Å (–ù–µ—Ä—É–∫–æ—Ç–≤–æ—Ä–Ω—ã–π –û–±—Ä–∞–∑)'")

if __name__ == "__main__":
    print("üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏")
    print("üìñ –ò—Å—Ç–æ—á–Ω–∏–∫–∏: –¢–∏–ø–∏–∫–æ–Ω, –∂—É—Ä–Ω–∞–ª '–§–æ–º–∞', –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –ü–∞—Ç—Ä–∏–∞—Ä—Ö–∏—è")
    print("=" * 70)
    
    try:
        # –ó–∞–ø–æ–ª–Ω—è–µ–º —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏
        populate_uspenie_fast_corrected()
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        show_corrected_statistics()
        
        print("\n‚úÖ –ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ò–°–ü–†–ê–í–õ–ï–ù!")
        print("üì± –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–∞—Ç–∞—Ö")
        print("\nüôè –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞–∂–Ω–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ –æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –¥–∞—Ç–∞—Ö!")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è: {e}")
        import traceback
        traceback.print_exc()
