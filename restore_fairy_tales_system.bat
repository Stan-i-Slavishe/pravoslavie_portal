@echo off
chcp 65001 >nul
echo ===============================================
echo üßö –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–´ –¢–ï–†–ê–ü–ï–í–¢–ò–ß–ï–°–ö–ò–• –°–ö–ê–ó–û–ö
echo ===============================================
echo.

echo üìù –®–∞–≥ 1: –ö–æ–ø–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ views...
copy /Y restored_views.py fairy_tales\views.py
if %errorlevel% == 0 (
    echo ‚úÖ Views –æ–±–Ω–æ–≤–ª–µ–Ω—ã
) else (
    echo ‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è views
    pause
    exit /b 1
)

echo.
echo üìù –®–∞–≥ 2: –ö–æ–ø–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ URLs...
copy /Y restored_urls.py fairy_tales\urls.py
if %errorlevel% == 0 (
    echo ‚úÖ URLs –æ–±–Ω–æ–≤–ª–µ–Ω—ã
) else (
    echo ‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è URLs
    pause
    exit /b 1
)

echo.
echo üìù –®–∞–≥ 3: –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏...
python manage.py makemigrations fairy_tales
python manage.py migrate
if %errorlevel% == 0 (
    echo ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
) else (
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
    pause
    exit /b 1
)

echo.
echo üìù –®–∞–≥ 4: –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ...
python create_fairy_tales_data.py
if %errorlevel% == 0 (
    echo ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω—ã
) else (
    echo ‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    pause
    exit /b 1
)

echo.
echo üìù –®–∞–≥ 5: –°–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã...
python manage.py collectstatic --noinput
if %errorlevel% == 0 (
    echo ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–æ–±—Ä–∞–Ω—ã
) else (
    echo ‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
    echo ‚ö†Ô∏è  –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏...
)

echo.
echo ===============================================
echo ‚úÖ –°–ò–°–¢–ï–ú–ê –°–ö–ê–ó–û–ö –£–°–ü–ï–®–ù–û –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ê!
echo ===============================================
echo.
echo üåü –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ:
echo   ‚Ä¢ –ö–∞—Ç–∞–ª–æ–≥ —Å–∫–∞–∑–æ–∫: /fairy-tales/
echo   ‚Ä¢ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: /fairy-tales/categories/
echo   ‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫–∞–∑–æ–∫
echo   ‚Ä¢ –°–∏—Å—Ç–µ–º–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
echo   ‚Ä¢ –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏
echo   ‚Ä¢ –ó–∞–∫–∞–∑—ã –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
echo.
echo üìö –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
echo   ‚Ä¢ –ü—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ö–æ–≤
echo   ‚Ä¢ –ü–æ–≤—ã—à–µ–Ω–∏–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏  
echo   ‚Ä¢ –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
echo   ‚Ä¢ –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è
echo   ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏—è–º–∏
echo   ‚Ä¢ –î—É—Ö–æ–≤–Ω–æ–µ –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–µ
echo.
echo üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: python manage.py runserver
echo üåê –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: http://127.0.0.1:8000/fairy-tales/
echo.
pause
