{% extends 'base.html' %}
{% load static %}

{% block title %}–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç - {{ block.super }}{% endblock %}

{% block extra_css %}
<style>
    .donate-hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 80px 0;
        text-align: center;
        position: relative;
        overflow: hidden;
    }
    
    .donate-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54.627 0l.83.828-1.415 1.415L51.8 0h2.827zM5.373 0l-.83.828L5.96 2.243 8.2 0H5.374zM48.97 0l3.657 3.657-1.414 1.414L46.143 0h2.828zM11.03 0L7.372 3.657 8.787 5.07 13.857 0H11.03zm32.284 0L49.8 6.485 48.384 7.9l-7.9-7.9h2.83zM16.686 0L10.2 6.485 11.616 7.9l7.9-7.9h-2.83zm20.97 0l9.315 9.314-1.414 1.414L34.828 0h2.83zM22.344 0L13.03 9.314l1.414 1.414L25.172 0h-2.83zM32 0l12.142 12.142-1.414 1.414L30 .828 17.272 13.556 15.858 12.14 28 0zm0 3.657l10.485 10.485-1.414 1.414L32 6.485l-9.071 9.071-1.414-1.414L32 3.657z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
    }
    
    .donate-hero h1 {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }
    
    .donate-hero p {
        font-size: 1.3rem;
        max-width: 800px;
        margin: 0 auto 2rem;
        opacity: 0.95;
    }
    
    .donate-card {
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        margin-top: -50px;
        position: relative;
        z-index: 10;
    }
    
    .payment-method {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 30px;
        transition: all 0.3s ease;
    }
    
    .payment-method:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }
    
    .payment-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }
    
    .card-number {
        font-size: 1.8rem;
        font-weight: 600;
        color: #667eea;
        letter-spacing: 2px;
        margin: 1rem 0;
        padding: 15px;
        background: white;
        border-radius: 10px;
        font-family: 'Courier New', monospace;
    }
    
    .copy-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 50px;
        font-weight: 600;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    
    .copy-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
    }
    
    .copy-btn.copied {
        background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    }
    
    .why-support {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 60px 0;
        margin-top: 60px;
    }
    
    .support-item {
        text-align: center;
        padding: 20px;
    }
    
    .support-item i {
        font-size: 3rem;
        margin-bottom: 1rem;
        opacity: 0.9;
    }
    
    .support-item h4 {
        font-weight: 600;
        margin-bottom: 0.5rem;
    }
    
    .qr-code-section {
        background: white;
        border-radius: 15px;
        padding: 30px;
        text-align: center;
        margin-top: 30px;
    }
    
    .metaphor-text {
        font-size: 1.1rem;
        font-style: italic;
        color: #666;
        padding: 20px;
        background: #fff3cd;
        border-left: 4px solid #ffc107;
        border-radius: 5px;
        margin: 30px 0;
    }
    
    .thank-you-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 60px 0;
        text-align: center;
        margin-top: 60px;
    }
    
    .thank-you-section h2 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="donate-hero">
    <div class="container">
        <h1><i class="bi bi-heart-fill"></i> –ü–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç</h1>
        <p>–í–∞—à–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–º–æ—â—å –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ –≤–µ—Ä–µ, –¥–æ–±—Ä–µ –∏ —Å–µ–º–µ–π–Ω—ã—Ö —Ü–µ–Ω–Ω–æ—Å—Ç—è—Ö</p>
    </div>
</div>

<div class="container">
    <div class="donate-card">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                
                <!-- –ú–µ—Ç–∞—Ñ–æ—Ä–∞ -->
                <div class="metaphor-text">
                    <i class="bi bi-gear-fill"></i>
                    <strong>üíù –í–∞—à–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ‚Äî –º–∞—Å–ª–æ –¥–ª—è —à–µ—Å—Ç–µ—Ä—ë–Ω–æ–∫ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞!</strong><br>
                    –ë–ª–∞–≥–æ–¥–∞—Ä—è –≤–∞–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å (—Å–µ—Ä–≤–µ—Ä—ã, —Ö–æ—Å—Ç–∏–Ω–≥, –¥–æ–º–µ–Ω—ã) —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–∞–∂–µ–Ω–Ω–æ.<br>
                    –ë–µ–∑ —Å–º–∞–∑–∫–∏ –¥–∞–∂–µ —Å–∞–º—ã–π –ª—É—á—à–∏–π –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–∫–ª–∏–Ω–∏—Ç üîßüíô
                </div>
                
                <!-- –ÆMoney -->
                <div class="payment-method">
                    <div class="text-center">
                        <div class="payment-icon">üí≥</div>
                        <h3>–ÆMoney (–Æ–ö–∞—Å—Å–∞)</h3>
                        <p class="text-muted">–ë—ã—Å—Ç—Ä—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–¥–¥–µ—Ä–∂–∫–∏</p>
                        
                        <div class="card-number" id="cardNumber">
                            {{ yumoney_formatted }}
                        </div>
                        
                        <button class="copy-btn" onclick="copyCardNumber()">
                            <i class="bi bi-clipboard"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä
                        </button>
                        
                        <a href="https://yoomoney.ru/to/{{ yumoney_account }}" 
                           target="_blank" 
                           class="btn btn-lg btn-primary ms-3">
                            <i class="bi bi-credit-card"></i> –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ
                        </a>
                    </div>
                </div>
                
                <!-- –î—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã -->
                <div class="row mt-4">
                    <div class="col-md-12 mx-auto">
                        <div class="payment-method text-center">
                            <div class="payment-icon">üí∞</div>
                            <h4>–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</h4>
                            <p class="text-muted mb-3">–ü—Ä—è–º–æ–π –ø–µ—Ä–µ–≤–æ–¥</p>
                            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#bankModal">
                                <i class="bi bi-bank"></i> –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
                            </button>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>

<!-- –ü–æ—á–µ–º—É –≤–∞–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ -->
<div class="why-support">
    <div class="container">
        <h2 class="text-center mb-5">–ü–æ—á–µ–º—É –≤–∞–∂–Ω–∞ –≤–∞—à–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞?</h2>
        <div class="row">
            <div class="col-md-4">
                <div class="support-item">
                    <i class="bi bi-book"></i>
                    <h4>–ù–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç</h4>
                    <p>–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–Ω–∏–≥, —Å—Ç–∞—Ç–µ–π –∏ –≤–∏–¥–µ–æ</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="support-item">
                    <i class="bi bi-server"></i>
                    <h4>–†–∞–∑–≤–∏—Ç–∏–µ —Å–∞–π—Ç–∞</h4>
                    <p>–û–ø–ª–∞—Ç–∞ —Ö–æ—Å—Ç–∏–Ω–≥–∞, –¥–æ–º–µ–Ω–∞ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="support-item">
                    <i class="bi bi-people"></i>
                    <h4>–ü–æ–º–æ—â—å —Å–µ–º—å—è–º</h4>
                    <p>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å -->
<div class="thank-you-section">
    <div class="container">
        <h2><i class="bi bi-heart-fill"></i> –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à—É –ø–æ–¥–¥–µ—Ä–∂–∫—É!</h2>
        <p class="lead">–ö–∞–∂–¥—ã–π —Ä—É–±–ª—å –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –¥–µ–ª–∞—Ç—å –º–∏—Ä –¥–æ–±—Ä–µ–µ –∏ —Å–≤–µ—Ç–ª–µ–µ</p>
        <p class="mt-4">
            <a href="{% url 'core:home' %}" class="btn btn-light btn-lg">
                <i class="bi bi-house"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
            </a>
        </p>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏ -->
<div class="modal fade" id="bankModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-bank"></i> –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p><strong>–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:</strong></p>
                <div class="card-number" style="font-size: 1.3rem;">
                    {{ yumoney_formatted }}
                </div>
                <p class="text-muted mt-3">
                    <i class="bi bi-info-circle"></i> 
                    –≠—Ç–æ –Ω–æ–º–µ—Ä –ÆMoney –∫–æ—à–µ–ª—å–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å –ª—é–±–æ–π –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script>
function copyCardNumber() {
    const cardNumber = '{{ yumoney_account }}';
    
    // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
    navigator.clipboard.writeText(cardNumber).then(function() {
        const btn = document.querySelector('.copy-btn');
        const originalHTML = btn.innerHTML;
        
        btn.classList.add('copied');
        btn.innerHTML = '<i class="bi bi-check-circle"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
        
        setTimeout(function() {
            btn.classList.remove('copied');
            btn.innerHTML = originalHTML;
        }, 2000);
    }).catch(function(err) {
        console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –ù–æ–º–µ—Ä: ' + cardNumber);
    });
}
</script>
{% endblock %}
