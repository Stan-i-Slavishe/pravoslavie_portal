@echo off
echo üîç –ë–´–°–¢–†–ê–Ø –ü–†–û–í–ï–†–ö–ê –ü–†–û–ë–õ–ï–ú–´ –° –î–ï–¢–ê–õ–ò–ó–ê–¶–ò–ï–ô
echo.

echo ===============================================
echo üìã –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ URL
echo ===============================================

python manage.py shell -c "
from django.urls import reverse
from stories.models import Story

print('=== –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï URL –î–õ–Ø –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø ===')

# –ù–∞—Ö–æ–¥–∏–º —Ä–∞—Å—Å–∫–∞–∑ '–ö–∞–∫ —Å–≤—è—Ç–æ–π –õ—É–∫–∞ –¥–æ—á—å —Å–ø–∞—Å' 
luka_story = Story.objects.filter(title__icontains='—Å–≤—è—Ç–æ–π –õ—É–∫–∞').first()

if luka_story:
    change_url = reverse('admin:stories_story_change', args=[luka_story.pk])
    print('‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:')
    print('   http://127.0.0.1:8000{}'.format(change_url))
    print('üìù ID —Ä–∞—Å—Å–∫–∞–∑–∞: {}'.format(luka_story.pk))
    print('üìù –ó–∞–≥–æ–ª–æ–≤–æ–∫: {}'.format(luka_story.title))
else:
    # –ë–µ—Ä–µ–º –ª—é–±–æ–π –ø–µ—Ä–≤—ã–π —Ä–∞—Å—Å–∫–∞–∑
    first_story = Story.objects.first()
    if first_story:
        change_url = reverse('admin:stories_story_change', args=[first_story.pk])
        print('‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—Å—Å–∫–∞–∑–∞:')
        print('   http://127.0.0.1:8000{}'.format(change_url))
        print('üìù ID —Ä–∞—Å—Å–∫–∞–∑–∞: {}'.format(first_story.pk))
        print('üìù –ó–∞–≥–æ–ª–æ–≤–æ–∫: {}'.format(first_story.title))
    else:
        print('‚ùå –ù–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö!')
"

echo.
echo ===============================================
echo üìã –®–ê–ì 2: –ü—Ä—è–º–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
echo ===============================================

echo üéØ –ü–û–ü–†–û–ë–£–ô–¢–ï –≠–¢–ò –°–°–´–õ–ö–ò –í–†–£–ß–ù–£–Æ:
echo.
echo üìö –°–ø–∏—Å–æ–∫ —Ä–∞—Å—Å–∫–∞–∑–æ–≤:
echo    http://127.0.0.1:8000/admin/stories/story/
echo.
echo üìù –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–∞—Å—Å–∫–∞–∑:
echo    http://127.0.0.1:8000/admin/stories/story/add/
echo.

REM –ü–æ–ª—É—á–∞–µ–º ID –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—Å—Å–∫–∞–∑–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
for /f %%i in ('python manage.py shell -c "from stories.models import Story; s=Story.objects.first(); print(s.pk if s else '–Ω–µ—Ç')"') do set STORY_ID=%%i

if "%STORY_ID%" neq "–Ω–µ—Ç" (
    echo üîß –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—Å—Å–∫–∞–∑–∞ ^(ID %STORY_ID%^):
    echo    http://127.0.0.1:8000/admin/stories/story/%STORY_ID%/change/
) else (
    echo ‚ö†Ô∏è –ù–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
)

echo.
echo ===============================================
echo üìã –®–ê–ì 3: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
echo ===============================================

echo üîß –ß–¢–û –î–ï–õ–ê–¢–¨:
echo.
echo 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã—à–µ
echo 2. –í—Å—Ç–∞–≤—å—Ç–µ –µ—ë –≤ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É –±—Ä–∞—É–∑–µ—Ä–∞
echo 3. –ù–∞–∂–º–∏—Ç–µ Enter
echo 4. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞—Å—Å–∫–∞–∑–∞
echo.
echo üí° –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –°–ü–û–°–û–ë:
echo 1. –í —Å–ø–∏—Å–∫–µ —Ä–∞—Å—Å–∫–∞–∑–æ–≤ –∫–ª–∏–∫–Ω–∏—Ç–µ –ü–†–ê–í–û–ô –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ
echo 2. –í—ã–±–µ—Ä–∏—Ç–µ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å —Å—Å—ã–ª–∫–∏"
echo 3. –í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –≤ –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É
echo.
echo ‚ö†Ô∏è –ï–°–õ–ò –ù–ï –†–ê–ë–û–¢–ê–ï–¢:
echo 1. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Del)
echo 2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ (Ctrl+Shift+N)
echo 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏
echo.
pause

echo –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä...
python manage.py runserver
